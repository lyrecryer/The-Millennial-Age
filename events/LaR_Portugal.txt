

add_namespace = lar_portugal_iberian_summit
add_namespace = lar_portugal_navy_mutiny
add_namespace = lar_portugal_iberian_workers_united
add_namespace = lar_portugal_naval_blockade
add_namespace = lar_portugal_purchase_ships
add_namespace = lar_portugal_promote_monarchist_cause
add_namespace = lar_portugal_spanish_civil_war
add_namespace = lar_portugal_royal_iberian_alliance
add_namespace = lar_portugal_overseas_provinces




country_event = {
	id = lar_portugal_iberian_summit.1
	title = lar_portugal_iberian_summit.1.t
	desc = lar_portugal_iberian_summit.1.desc
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes

	
	option = {
		name = lar_portugal_iberian_summit.1.a

		ai_chance = {
			base = 20
			modifier = { 	
				add = 20
				has_opinion = { target = GER value > 40 }
			}
			modifier = {	
				add = 20
				has_opinion = { target = FROM value > 40 }
			}
			modifier = {	
				add = 20
				GER = { 
					has_war = yes 
					alliance_strength_ratio > 0.99
				}
			}
			modifier = {	
				add = 20
				GER = {
					has_war = yes 
					any_war_score > 49
				}
			}
			modifier = {	
				factor = 0
				OR = {
					has_opinion = { target = GER value < -20 }
					has_opinion = { target = FROM value < -20 }
					AND = {
						tag = POR
						NOT = { has_completed_focus = POR_estado_novo }
					}
				}
			}
		}
		custom_effect_tooltip =  lar_portugal_iberian_summit.1_a_tt
		effect_tooltip = {
			GER  = { country_event = lar_portugal_iberian_summit.4 }
		}
		hidden_effect = { FROM = { country_event = lar_portugal_iberian_summit.2 } }
		FROM = {
			add_opinion_modifier = {
				target = ROOT
				modifier = POR_iberian_summit_working_together
			}
		}
		ROOT = {
			add_opinion_modifier = {
				target = FROM
				modifier = POR_iberian_summit_working_together
			}
		}
	}

	
	option = {
		name = lar_portugal_iberian_summit.1.b

		ai_chance = {
			base = 40
			modifier = {	
				add = 20
				GER = { 
					has_war = yes 
					AND = {
						alliance_strength_ratio > 0.74
						alliance_strength_ratio < 1
					}
				}
			}
			modifier = {	
				add = 20
				GER = {
					has_war = yes 
					AND = {
						any_war_score > 29
						any_war_score < 50
					}
				}
			}
			modifier = {	
				add = 20
				GER = {
					any_allied_country = {
						OR = {
							has_wargoal_against = ROOT
							is_justifying_wargoal_against = ROOT
						}
						strength_ratio = {
						    tag = ROOT
						    ratio > 1.24
						}
					}
				}
			}
			modifier = {	
				add = 20
				has_opinion = { target = GER value > 0 }
				has_opinion = { target = FROM value > 0 }
				OR = {
					GER = { 
						has_opinion =  { target = ROOT value < 0 }
					}
					GER = { 
						has_opinion =  { target = FROM value < 0 }
					}
				}
			}
			modifier = {	
				factor = 0
				OR = {
					has_opinion = { target = GER value < -30 }
					has_opinion = { target = FROM value < -30 }
					AND = {
						tag = POR
						NOT = { has_completed_focus = POR_estado_novo }
					}
				}
			}
		}
		custom_effect_tooltip =  lar_portugal_iberian_summit.1_b_tt

		hidden_effect = { FROM = { country_event = lar_portugal_iberian_summit.3 } }
		FROM = {
			add_opinion_modifier = {
				target = ROOT
				modifier = POR_iberian_summit_working_together
			}
			activate_decision = POR_iberian_summit_proposal_delayed
		}
		ROOT = {
			add_opinion_modifier = {
				target = FROM
				modifier = POR_iberian_summit_working_together
			}
			activate_decision = POR_iberian_summit_proposal_delayed
		}
		set_global_flag = POR_iberian_summit_proposal_delayed_flag
	}
	
	option = {
		name = lar_portugal_iberian_summit.1.c

		ai_chance = {
			base = 40
			modifier = { 	
				add = 20
				has_opinion = { target = GER value < 0 }
			}
			modifier = {	
				add = 20
				has_opinion = { target = FROM value < 0 }
			}
			modifier = {	
				add = 20
				GER = { 
					has_war = yes 
					alliance_strength_ratio < 0.75
				}
			}
			modifier = {	
				add = 20
				GER = {
					has_war = yes 
					any_war_score < 30
				}
			}
			modifier = {	
				add = 20
				GER = {
					any_allied_country = {
						OR = {
							has_wargoal_against = ROOT
							is_justifying_wargoal_against = ROOT
						}
						strength_ratio = {
						    tag = ROOT
						    ratio < 1
						}
					}

				}
			}
			modifier = {	
				factor = 5
				is_historical_focus_on = yes
			}
		}

		hidden_effect = {
			FROM = { country_event = lar_portugal_iberian_summit.9 }
		}
	}
}


country_event = {
	id = lar_portugal_iberian_summit.2
	title = lar_portugal_iberian_summit.2.t
	desc = lar_portugal_iberian_summit.2.desc
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes

	option = {
		name = lar_portugal_iberian_summit.2.a	

		GER = {
			country_event = { id = lar_portugal_iberian_summit.4 days = 1 }
		}	
		effect_tooltip = {
			FROM = {
				add_opinion_modifier = {
					target = ROOT
					modifier = POR_iberian_summit_working_together
				}
			}
			ROOT = {
				add_opinion_modifier = {
					target = FROM
					modifier = POR_iberian_summit_working_together
				}
			}
		}
	}
}


country_event = {
	id = lar_portugal_iberian_summit.3
	title = lar_portugal_iberian_summit.3.t
	desc = lar_portugal_iberian_summit.3.desc
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes

	option = {
		name = lar_portugal_iberian_summit.3.a
		custom_effect_tooltip = lar_portugal_iberian_summit.1_b_tt
		effect_tooltip = {
			FROM = {
				add_opinion_modifier = {
					target = ROOT
					modifier = POR_iberian_summit_working_together
				}
				activate_decision = POR_iberian_summit_proposal_delayed
			}
			ROOT = {
				add_opinion_modifier = {
					target = FROM
					modifier = POR_iberian_summit_working_together
				}
				activate_decision = POR_iberian_summit_proposal_delayed
			}
		}
	}
}


country_event = {
	id = lar_portugal_iberian_summit.4
	title = lar_portugal_iberian_summit.4.t
	desc = lar_portugal_iberian_summit.4.desc
	picture = GFX_report_event_por_salazar_franco1

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			save_event_target_as = alliance_inviter
			clear_variable = global.POR_iberian_summit_target
		}
	}

	
	option = {
		name = lar_portugal_iberian_summit.4.a 

		ai_chance = {
			base = 50
			modifier = {	
				add = 25
				has_opinion = { target = POR value > 10 }
			}
			modifier = {	
				add = 25
				has_opinion = { target = SPA value > 10 }
			}
			modifier = {	
				factor = 1.5
				alliance_strength_ratio < 1
			}				
			modifier = {	
				factor = 1.5
				any_war_score < 50
			}
		}

		hidden_effect = {
			news_event = { id = lar_news.24 days = 3 random_days = 5 }
		}

		add_to_faction = POR
		add_to_faction = SPA
		hidden_effect = {
			POR = { country_event = generic.3 }
			SPA = { country_event = generic.3 }
		}
		clr_global_flag = POR_iberian_summit_in_progress_flag
		set_global_flag = POR_iberian_summit_successful_flag
	}
	
	option = {
		name = lar_portugal_iberian_summit.4.b

		ai_chance = {
			base = 50
			modifier = {	
				add = 25
				has_opinion = { target = POR value < -10 }
			}
			modifier = {	
				add = 25
				has_opinion = { target = SPA value < -10 }
			}	
			modifier = {	
				factor = 100
				OR = {
					has_wargoal_against = POR
					is_justifying_wargoal_against = POR
					has_wargoal_against = SPA
					is_justifying_wargoal_against = SPA
				}
			}
			modifier = {	
				factor = 2
				any_allied_country = {
					OR = {
						has_wargoal_against = POR
						is_justifying_wargoal_against = POR
						has_wargoal_against = SPA
						is_justifying_wargoal_against = SPA
					}
				}
			}			
		}

		POR = { country_event = generic.4 }
		SPA = { country_event = generic.4 }
		clr_global_flag = POR_iberian_summit_in_progress_flag
	}
}


country_event = {
	id = lar_portugal_iberian_summit.5

	title = lar_portugal_iberian_summit.5.t
	desc = lar_portugal_iberian_summit.5.desc
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes

	
	option = {
		name = lar_portugal_iberian_summit.5.a

		ai_chance = {
			base = 20
			modifier = { 	
				add = 20
				has_opinion = { target = ENG value > 40 }
			}
			modifier = {	
				add = 20
				has_opinion = { target = FROM value > 40 }
			}
			modifier = {	
				add = 20
				ENG = { 
					has_war = yes 
					alliance_strength_ratio > 0.99
				}
			}
			modifier = {	
				add = 20
				ENG = {
					has_war = yes 
					any_war_score > 49
				}
			}

			modifier = {	
				factor = 0
				OR = {
					has_opinion = { target = ENG value < 20 }
					has_opinion = { target = FROM value < 20 }
					AND = {
						tag = POR
						NOT = { 
							OR = {
								has_completed_focus = POR_support_the_spanish_republic 
								has_completed_focus = POR_strict_neutrality_in_the_spanish_civil_war
							}
						}
					}
					AND = {
						tag = SPA
						NOT = { 
							has_completed_focus = SPA_unify_the_nationalist_front
						}
						NOT = { has_government = fascism }
					}
					AND = {
						tag = SPD
						NOT = { has_completed_focus = SPR_maintain_the_second_republic }
					}
				}
			}
		}

		custom_effect_tooltip =  lar_portugal_iberian_summit.5_a_tt
		effect_tooltip = {
			ENG  = { country_event = lar_portugal_iberian_summit.8 }
		}
		hidden_effect = { FROM = { country_event = lar_portugal_iberian_summit.6 } }
		FROM = {
			add_opinion_modifier = {
				target = ROOT
				modifier = POR_iberian_summit_working_together
			}
		}
		ROOT = {
			add_opinion_modifier = {
				target = FROM
				modifier = POR_iberian_summit_working_together
			}
		}
	}

	
	option = {
		name = lar_portugal_iberian_summit.5.b

		ai_chance = {
			base = 40
			modifier = {	
				add = 20
				ENG = { 
					has_war = yes 
					AND = {
						alliance_strength_ratio > 0.74
						alliance_strength_ratio < 1
					}
				}
			}
			modifier = {	
				add = 20
				ENG = {
					has_war = yes 
					AND = {
						any_war_score > 29
						any_war_score < 50
					}
				}
			}
			modifier = {	
				add = 20
				ENG = {
					any_allied_country = {
						OR = {
							has_wargoal_against = ROOT
							is_justifying_wargoal_against = ROOT
						}
						strength_ratio = {
						    tag = ROOT
						    ratio > 1.24
						}
					}

				}
			}
			modifier = {	
				add = 20
				has_opinion = { target = ENG value > 0 }
				has_opinion = { target = FROM value > 0 }
				OR = {
					ENG = { 
						has_opinion =  { target = ROOT value < 0 }
					}
					ENG = { 
						has_opinion =  { target = FROM value < 0 }
					}
				}
			}
			modifier = {	
				factor = 0
				OR = {
					has_opinion = { target = ENG value < 30 }
					has_opinion = { target = FROM value < 30 }
					AND = {
						tag = POR
						NOT = { 
							OR = {
								has_completed_focus = POR_support_the_spanish_republic 
								has_completed_focus = POR_strict_neutrality_in_the_spanish_civil_war
							}
						}
					}
					AND = {
						tag = SPA
						NOT = { 
							has_completed_focus = SPA_unify_the_nationalist_front
						}
					}
					AND = {
						tag = SPD
						NOT = { has_completed_focus = SPR_maintain_the_second_republic }
					}
				}
			}
		}

		custom_effect_tooltip =  lar_portugal_iberian_summit.5_b_tt
		hidden_effect = { FROM = { country_event = lar_portugal_iberian_summit.7 } }
		FROM = {
			add_opinion_modifier = {
				target = ROOT
				modifier = POR_iberian_summit_working_together
			}
			activate_decision = POR_iberian_summit_proposal_delayed
		}
		ROOT = {
			add_opinion_modifier = {
				target = FROM
				modifier = POR_iberian_summit_working_together
			}
			activate_decision = POR_iberian_summit_proposal_delayed
		}
		set_global_flag = POR_iberian_summit_proposal_delayed_flag
	}
	
	option = {
		name = lar_portugal_iberian_summit.5.c

		ai_chance = {
			base = 40
			modifier = { 	
				add = 20
				has_opinion = { target = ENG value < 0 }
			}
			modifier = {	
				add = 20
				has_opinion = { target = FROM value < 0 }
			}
			modifier = {	
				add = 20
				ENG = { 
					has_war = yes 
					alliance_strength_ratio < 0.75
				}
			}
			modifier = {	
				add = 20
				ENG = {
					has_war = yes 
					any_war_score < 30
				}
			}
			modifier = {	
				add = 20
				ENG = {
					any_allied_country = {
						OR = {
							has_wargoal_against = ROOT
							is_justifying_wargoal_against = ROOT
						}
						strength_ratio = {
						    tag = ROOT
						    ratio < 1
						}
					}

				}
			}
			modifier = {	
				factor = 5
				is_historical_focus_on = yes
			}
		}

		FROM = { country_event = lar_portugal_iberian_summit.9 }
	}

}


country_event = {
	id = lar_portugal_iberian_summit.6
	title = lar_portugal_iberian_summit.6.t
	desc = lar_portugal_iberian_summit.6.desc
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes

	option = {
		name = lar_portugal_iberian_summit.6.a	
		ENG = {
			country_event = { id = lar_portugal_iberian_summit.8 days = 1 }
		}
		effect_tooltip = {
			FROM = {
				add_opinion_modifier = {
					target = ROOT
					modifier = POR_iberian_summit_working_together
				}
			}
			ROOT = {
				add_opinion_modifier = {
					target = FROM
					modifier = POR_iberian_summit_working_together
				}
			}
		}
	}
}


country_event = {
	id = lar_portugal_iberian_summit.7
	title = lar_portugal_iberian_summit.7.t
	desc = lar_portugal_iberian_summit.7.desc
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes

	option = {
		name = lar_portugal_iberian_summit.7.a

		custom_effect_tooltip =  lar_portugal_iberian_summit.5_b_tt
		effect_tooltip = {
			FROM = {
				add_opinion_modifier = {
					target = ROOT
					modifier = POR_iberian_summit_working_together
				}
				activate_decision = POR_iberian_summit_proposal_delayed
			}
			ROOT = {
				add_opinion_modifier = {
					target = FROM
					modifier = POR_iberian_summit_working_together
				}
				activate_decision = POR_iberian_summit_proposal_delayed
			}
		}
	}
}


country_event = {
	id = lar_portugal_iberian_summit.8
	title = lar_portugal_iberian_summit.8.t
	desc = lar_portugal_iberian_summit.8.desc
	picture = GFX_report_event_por_salazar_franco1

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			save_event_target_as = alliance_inviter
			clear_variable = global.POR_iberian_summit_target
		}
	}

	
	option = {
		name = lar_portugal_iberian_summit.8.a 

		ai_chance = {
			base = 50
			modifier = {	
				add = 25
				has_opinion = { target = POR value > 10 }
			}
			modifier = {	
				add = 25
				OR = {
					country_exists = SPA
					has_opinion = { target = SPA value > 10 }
				}
				OR = {
					country_exists = SPD
					has_opinion = { target = SPD value > 10 }
				}				
			}
			modifier = {	
				factor = 1.5
				alliance_strength_ratio < 1
			}				
			modifier = {	
				factor = 1.5
				any_war_score < 50
			}
		}

		hidden_effect = {
			news_event = { id = lar_news.23 days = 3 random_days = 5 }
		}

		add_to_faction = POR
		hidden_effect = { 
			POR = { country_event = generic.3 } 
		}
		if = {
			limit = { country_exists = SPD }
			add_to_faction = SPD
			hidden_effect = {
				SPD = { country_event = generic.3 }
			}
		}
		else = {
			add_to_faction = SPA
			hidden_effect = { 
				SPA = { country_event = generic.3 }
			}
		}
		clr_global_flag = POR_iberian_summit_in_progress_flag
		set_global_flag = POR_iberian_summit_successful_flag

	}
	
	option = {
		name = lar_portugal_iberian_summit.8.b

		ai_chance = {
			base = 50
			modifier = {	
				add = 25
				has_opinion = { target = POR value < -10 }
			}
			modifier = {	
				add = 25
				OR = {
					country_exists = SPA
					has_opinion = { target = SPA value < -10 }
				}
				OR = {
					country_exists = SPD
					has_opinion = { target = SPD value < -10 }
				}
			}	
			modifier = {	
				factor = 100
				OR = {
					has_wargoal_against = POR
					is_justifying_wargoal_against = POR
					has_wargoal_against = global.POR_iberian_summit_spanish_tag
					is_justifying_wargoal_against = global.POR_iberian_summit_spanish_tag
				}
			}
			modifier = {	
				factor = 2
				any_allied_country = {
					OR = {
						has_wargoal_against = POR
						is_justifying_wargoal_against = POR
						has_wargoal_against = global.POR_iberian_summit_spanish_tag
						is_justifying_wargoal_against = global.POR_iberian_summit_spanish_tag
					}
				}
			}			
		}
		
		POR = { country_event = generic.4 }
		if = {
		limit = { country_exists = SPD }
			SPD = { country_event = generic.4 }
		}
		else = {
			SPA = { country_event = generic.4 }
		}
		clr_global_flag = POR_iberian_summit_in_progress_flag
	}
}


country_event = {
	id = lar_portugal_iberian_summit.9
	title = lar_portugal_iberian_summit.9.t
	desc = lar_portugal_iberian_summit.9.desc
	picture = GFX_report_event_por_estado_novo

	is_triggered_only = yes

	option = {
		name = lar_portugal_iberian_summit.9.a

		clr_global_flag = POR_iberian_summit_in_progress_flag
	}
}




country_event = {
	id = lar_portugal_navy_mutiny.1
	title = lar_portugal_navy_mutiny.1.t
	desc = lar_portugal_navy_mutiny.1.desc
	picture = GFX_report_event_destroyers

	mean_time_to_happen = { days = 120 }

	fire_only_once = yes

	trigger = {
		original_tag = POR
		SPR_scw_in_progress = yes
		country_exists = SPD
		NOT = { has_completed_focus = POR_support_the_spanish_republic }
	}

	immediate = {
		set_variable = { transfer_target = SPD }
		set_variable = { POR_ships_revolted = 0 }
	}

	
	option = {
		name = lar_portugal_navy_mutiny.1.a

		ai_chance = {
			base = 50
		}

		trigger = {
			has_completed_focus = POR_popular_front
		}
		hidden_effect = {
			transfer_ship = {
			    prefer_name = "NRP Dão"
			    type = destroyer
			    target = transfer_target 
			}
			add_to_variable = { POR_ships_revolted = 1 } 
			if = {
				limit = {
					communism > 0.1
				}
				transfer_ship = {
				    type = destroyer
				    prefer_name = "NRP Douro"
				    target = transfer_target
				}
				add_to_variable = { POR_ships_revolted = 1 } 
			}
			if = {
				limit = {
					communism > 0.25
				}
				transfer_ship = {
				    type = destroyer
				    prefer_name = "NRP Tejo"
				    target = transfer_target
				}
				add_to_variable = { POR_ships_revolted = 1 } 
			}
			if = {
				limit = {
					communism > 0.4
				}
				transfer_ship = {
				    type = destroyer
				    prefer_name = "NRP Tamega"
				    target = transfer_target
				}
				add_to_variable = { POR_ships_revolted = 1 } 
			}
			if = {
				limit = {
					communism > 0.6
				}
				transfer_ship = {
				    type = destroyer
				    prefer_name = "NRP Vouga"
				    target = transfer_target
				}
				add_to_variable = { POR_ships_revolted = 1 } 
			}
			if = {
				limit = {
					communism > 0.75
				}
				transfer_ship = {
				    type = destroyer
				    prefer_name = "NRP Lima"
				    target = transfer_target
				}
				add_to_variable = { POR_ships_revolted = 1 } 
			}

			set_variable = { POR_ships_revolted_not_including_dao = POR_ships_revolted }
			add_to_variable = {POR_ships_revolted_not_including_dao = -1 }

			set_country_flag = POR_navy_mutiny_allowed_flag
			SPD = { country_event = { id = lar_portugal_navy_mutiny.4 } }
			country_event = { id = lar_portugal_navy_mutiny.2 days = 1 }
		}
		custom_effect_tooltip = lar_portugal_navy_mutiny.1_allow_tt
	}

	
	option = {
		name = lar_portugal_navy_mutiny.1.b

		ai_chance = {
			base = 50
		}

		hidden_effect = {
			set_temp_variable = { opposition_factor = party_popularity@neutrality }
			add_to_temp_variable = { opposition_factor = party_popularity@fascism }
			add_to_temp_variable = { opposition_factor = party_popularity@democratic }
			multiply_temp_variable = { opposition_factor = 100 }

			set_temp_variable = { communist_factor = party_popularity@communism }
			multiply_temp_variable = { communist_factor = 300 } 

			random_list = {
				temp_var:opposition_factor = {
				}
				temp_var:communist_factor = {
					add_to_variable = { POR_ships_revolted = 1 } 

					set_temp_variable = { communist_factor = party_popularity@communism }
					multiply_temp_variable = { communist_factor = 250 } 
					random_list = {
						temp_var:opposition_factor = {
						}
						temp_var:communist_factor = {
							add_to_variable = { POR_ships_revolted = 1 } 

							set_temp_variable = { communist_factor = party_popularity@communism }
							multiply_temp_variable = { communist_factor = 200 } 
							random_list = {
								temp_var:opposition_factor = {
								}
								temp_var:communist_factor = {
									add_to_variable = { POR_ships_revolted = 1 } 

									set_temp_variable = { communist_factor = party_popularity@communism }
									multiply_temp_variable = { communist_factor = 100 } 
									random_list = {
										temp_var:opposition_factor = {
										}
										temp_var:communist_factor = {
											add_to_variable = { POR_ships_revolted = 1 } 
										}
									}
								}
							}
						}
					}
				}
			}
			country_event = { id = lar_portugal_navy_mutiny.3 days = 1 }
		}
		custom_effect_tooltip = lar_portugal_navy_mutiny.1_stop_tt
	}
}


country_event = {
	id = lar_portugal_navy_mutiny.2
	title = lar_portugal_navy_mutiny.2.t
	
	desc = {
		text = lar_portugal_navy_mutiny.2.desc
		trigger = {
			check_variable = { POR_ships_revolted = 1 }
		}
	}
	
	desc = {
		text = lar_portugal_navy_mutiny.2_extra.desc
		trigger = {
			check_variable = { POR_ships_revolted > 1 }			
		}
	}
	picture = GFX_report_event_ast_navy

	is_triggered_only = yes

	option = {
		name = lar_portugal_navy_mutiny.2.a
		hidden_effect = { 
			SPD = { set_country_flag = POR_got_portuguese_mutineers_flag }
		}
		
		custom_effect_tooltip = lar_portugal_navy_mutiny.2_tt
	}
}


country_event = {
	id = lar_portugal_navy_mutiny.3
	title = lar_portugal_navy_mutiny.3.t
	
	desc = {
		text = lar_portugal_navy_mutiny.3.desc
		trigger = {
			check_variable = { POR_ships_revolted = 0 }	
		}
	}
	
	desc = {
		text = lar_portugal_navy_mutiny.3_extra.desc
		trigger = {
			check_variable = { POR_ships_revolted > 0 }	
		}
	}
	picture = GFX_report_event_portugal_navy_mutiny_prisoners

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			if = { 
				limit = { 
					check_variable = { POR_ships_revolted > 0 }
				}
				transfer_ship = {
				    type = destroyer
				    prefer_name = "NRP Dão"
				    target = transfer_target
				}
				if = {
					limit = {
						check_variable = { POR_ships_revolted > 1 }
					}
					transfer_ship = {
					    type = destroyer
					    prefer_name = "NRP Douro"
					    target = transfer_target
					}
					if = {
						limit = {
							check_variable = { POR_ships_revolted > 2 }
						}
						transfer_ship = {
						    type = destroyer
						    prefer_name = "NRP Tejo"
						    target = transfer_target
						}
						if = {
							limit = {
								check_variable = { POR_ships_revolted > 3 }
							}
							transfer_ship = {
							    type = destroyer
							    prefer_name = "NRP Tamega"
							    target = transfer_target
							}
						}
					}
				}
				SPD = { 
					country_event = { id = lar_portugal_navy_mutiny.4 } 
					set_country_flag = POR_got_portuguese_mutineers_flag
				}
			}
		}
	}

	option = { 
		name = lar_portugal_navy_mutiny.3.a
		add_manpower = -500
		if = {
			limit = {
				check_variable = { POR_ships_revolted = 0 }
			}
			custom_effect_tooltip = lar_portugal_navy_mutiny.3_no_ships_tt
		}
		else = {
			custom_effect_tooltip = lar_portugal_navy_mutiny.3_ships_tt
		}
	}
}


country_event = {
	id = lar_portugal_navy_mutiny.4
	title = lar_portugal_navy_mutiny.4.t

	desc = { 
		text = lar_portugal_navy_mutiny.4.desc
		trigger = {
			POR = { has_country_flag = POR_navy_mutiny_allowed_flag }
		}
	}

	desc = { 
		text = lar_portugal_navy_mutiny.4_extra.desc
		trigger = {
			POR = { NOT = { has_country_flag = POR_navy_mutiny_allowed_flag } }
		}
	}

	picture = GFX_report_event_ast_navy

	is_triggered_only = yes

	option = { 
		name = lar_portugal_navy_mutiny.4.a

		custom_effect_tooltip = lar_portugal_navy_mutiny.4_tt
	}
}


country_event = {
	id = lar_portugal_navy_mutiny.5
	title = lar_portugal_navy_mutiny.5.t

	desc = lar_portugal_navy_mutiny.5.desc

	picture = GFX_report_event_ast_navy

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			random_country = {
				limit = {
					original_tag = SPR
					has_country_flag = POR_got_portuguese_mutineers_flag
				}
				country_event = lar_portugal_navy_mutiny.6
			}
		}
	}

	option = { 
		name = lar_portugal_navy_mutiny.5.a
		custom_effect_tooltip = lar_portugal_navy_mutiny.5_tt
	}
}


country_event = {
	id = lar_portugal_navy_mutiny.6
	title = lar_portugal_navy_mutiny.6.t

	desc = lar_portugal_navy_mutiny.6.desc

	picture = GFX_report_event_sailors_in_working_rig

	is_triggered_only = yes

	immediate = {
		transfer_ship = {
			type = destroyer
			prefer_name = "NRP Dão"
			target = POR
		}
		POR = {
			if = {
				limit = {
					check_variable = { POR_ships_revolted > 1 }
				}
				ROOT = {
					transfer_ship = {
						type = destroyer
						prefer_name = "NRP Douro"
						target = POR
					}
				}
				if = {
					limit = {
						check_variable = { POR_ships_revolted > 2 }
					}
					ROOT = {
						transfer_ship = {
							type = destroyer
							prefer_name = "NRP Tejo"
							target = POR
						}
					}
					if = {
						limit = {
							check_variable = { POR_ships_revolted > 3 }
						}
						ROOT = {
							transfer_ship = {
								type = destroyer
								prefer_name = "NRP Tamega"
								target = POR
							}
						}
					}
				}
			}
		}
	}

	option = { 
		name = lar_portugal_navy_mutiny.6.a
		hidden_effect = {
			clr_country_flag = POR_got_portuguese_mutineers_flag
		}
		
	}
}




country_event = {
	id = lar_portugal_iberian_workers_united.1
	title = lar_portugal_iberian_workers_united.1.t
	desc = lar_portugal_iberian_workers_united.1.desc
	picture = GFX_report_event_generic_rifles

	is_triggered_only = yes

	option = {
		name = lar_portugal_iberian_workers_united.1.a
		hidden_effect = { add_timed_idea = { idea = POR_iberian_workers_united days = 730 } }
		effect_tooltip = {
			POR = { add_timed_idea = { idea = POR_iberian_workers_united days = 730 } }
			SPD = { add_timed_idea = { idea = POR_iberian_workers_united days = 730 } }
		}
	}
}


country_event = {
	id = lar_portugal_iberian_workers_united.2
	title = lar_portugal_iberian_workers_united.2.t
	desc = lar_portugal_iberian_workers_united.2.desc
	picture = GFX_report_event_generic_communist_congress

	is_triggered_only = yes

	option = { 
		name = lar_portugal_iberian_workers_united.2.a
		ai_chance = {
			base = 100
			modifier = {	
				add = 15
				has_completed_focus = SPR_hinder_nkvd_interference
			}
		}

		trigger = {
			has_war = no
		}

		hidden_effect = {
			if = {
				limit = { 
					NOT = { has_global_flag = POR_iberian_union_successful_flag }
				}
				set_global_flag = POR_iberian_union_successful_flag
				POR = {	news_event = { id = lar_news.27 days = 3 random_days = 3 } }
			}
		}

		hidden_effect = {
			every_owned_state = {
				limit = {
					is_core_of = ROOT
					NOT = { has_state_flag = SPR_core_of_spain_flag }
				}
				add_core_of = FROM
			}
			FROM = {
				annex_country = {
				    target = ROOT
				    transfer_troops = yes
				}
			}
		}
		custom_effect_tooltip = lar_portugal_iberian_workers_united.2.a_tt
		custom_effect_tooltip = GAME_OVER_TT
	}

	option = { 
		name = lar_portugal_iberian_workers_united.2.b
		ai_chance = {
			base = 0
			modifier = {	
				add = 10
				has_completed_focus = SPR_maintain_the_second_republic
			}
			modifier = {	
				add = 5
				has_completed_focus = SPR_secure_democratic_principles
			}
			modifier = {	
				add = 5
				has_completed_focus = SPR_war_of_independence
			}
			modifier = {	
				add = 10
				has_completed_focus = SPR_the_stalinist_doctrine
			}
			modifier = {	
				add = 5
				has_completed_focus = SPR_appeal_for_increased_autonomy
			}
			modifier = { 
				add = 100
				NOT = { tag = SPD }
				NOT = { has_government = ROOT }
			}
		}
		POR = {
			add_opinion_modifier = {
				target = ROOT
				modifier = POR_rejected_the_iberian_unification
			}
		}
	}
}




country_event = {
	id = lar_portugal_naval_blockade.1
	title = lar_portugal_naval_blockade.1.t
	desc = lar_portugal_naval_blockade.1.desc
	picture = GFX_report_event_merchant_ship_01

	is_triggered_only = yes

	option = {
		name = lar_portugal_naval_blockade.1.a
		custom_effect_tooltip = lar_portugal_naval_blockade.1_tt
		every_country = {
			limit = { has_war_with = ENG }
			unlock_decision_tooltip = POR_evade_blockade_with_portuguese_convoys
		}
	}
}


country_event = {
	id = lar_portugal_naval_blockade.2
	title = lar_portugal_naval_blockade.2.t
	desc = lar_portugal_naval_blockade.2.desc
	picture = GFX_report_event_merchant_ship_01

	is_triggered_only = yes

	option = {
		name = lar_portugal_naval_blockade.2.a
		add_equipment_to_stockpile = {
            type = convoy_1
            amount = -50
        }
		add_offsite_building = { type = industrial_complex  level = 1 }
		FROM = {
			effect_tooltip = { add_war_support = 0.1 }
		}
	}
}


country_event = {
	id = lar_portugal_naval_blockade.3
	title = lar_portugal_naval_blockade.3.t
	desc = lar_portugal_naval_blockade.3.desc
	picture = GFX_report_event_merchant_ship_01

	is_triggered_only = yes

	option = {
		name = lar_portugal_naval_blockade.3.a
		custom_effect_tooltip = lar_portugal_naval_blockade.1_tt
		every_country = {
			limit = { has_war_with = ENG }
			unlock_decision_tooltip = POR_evade_blockade_with_portuguese_convoys
		}
		effect_tooltip = {
			remove_opinion_modifier = {
				target = POR
				modifier = POR_anglo_portuguese_alliance
			}
			POR= {
				remove_opinion_modifier = {
					target = ENG
					modifier = POR_anglo_portuguese_alliance
				}
			}
		}
	}
}




country_event = {
	id = lar_portugal_purchase_ships.1
	title = lar_portugal_purchase_ships.1.t
	desc = lar_portugal_purchase_ships.1.desc
	picture = GFX_report_event_sailors_in_working_rig

	is_triggered_only = yes

	option = { 
		name = lar_portugal_purchase_ships.1.a

		ai_chance = {
			base = 99
			modifier = {
				factor = 0
				OR = {
					has_opinion = { target = POR value < 0 }
					has_civil_war = yes
					has_capitulated = yes
					has_war = yes
					AND = {
						tag = ENG
						NOT = { owns_state = 126 } 
					}
					AND = {
						tag = ITA
						NOT = { owns_state = 2 } 
					}
				}
			}
		}

		custom_effect_tooltip = lar_portugal_purchase_ships.1.a_tt
		POR = {
			country_event = { id = lar_portugal_purchase_ships.2 hours = 8 random_hours = 4 }
		}
	}
	option = { 
		name = lar_portugal_purchase_ships.1.b

		ai_chance = {
			base = 1
		}

		POR = {
			country_event = { id = lar_portugal_purchase_ships.3 hours = 8 random_hours = 4 }
			if = {
				limit = { 
					ROOT = { tag = ENG }
				}
				set_country_flag = {
					flag = POR_british_ships_purchase_rejected_flag
					value = 1
					days = 180
				}
			}
			else_if = {
				limit = { 
					ROOT = { tag = ITA }
				}
				set_country_flag = {
					flag = POR_italian_ships_purchase_rejected_flag
					value = 1
					days = 180
				}
			}
		}
	}
}


country_event = {
	id = lar_portugal_purchase_ships.2
	title = lar_portugal_purchase_ships.2.t
	desc = lar_portugal_purchase_ships.2.desc
	picture = GFX_report_event_sailors_in_working_rig

	is_triggered_only = yes

	option = { 
		name = lar_portugal_purchase_ships.2.a
		ai_chance = {
			base = 34
		}

		FROM = {
			add_offsite_building = {
				type = industrial_complex
				level = 1
			}
			add_opinion_modifier = {
				target = POR
				modifier = POR_bought_ships
			}
		}
		if = {
			limit = { FROM = { tag = ENG } }
			add_opinion_modifier = {
				target = ENG
				modifier = POR_sold_ships
			}
			add_opinion_modifier = {
				target = ENG
				modifier = POR_ships_trade
			}
			activate_decision = POR_british_submarines_construction_progress
			set_country_flag = POR_purchase_british_submarines_flag
		}
		else_if = {
			limit = { FROM = { tag = ITA } }
			add_opinion_modifier = {
				target = ITA
				modifier = POR_sold_ships
			}
			add_opinion_modifier = {
				target = ITA
				modifier = POR_ships_trade
			}
			activate_decision = POR_italian_submarines_construction_progress
			set_country_flag = POR_purchase_italian_submarines_flag
		}
	}
	option = { 
		name = lar_portugal_purchase_ships.2.b
		ai_chance = {
			base = 33
		}
		
		FROM = {
			add_offsite_building = {
				type = industrial_complex
				level = 1
			}
			add_opinion_modifier = {
				target = POR
				modifier = POR_bought_ships
			}
		}
		if = {
			limit = { FROM = { tag = ENG } }
			add_opinion_modifier = {
				target = ENG
				modifier = POR_sold_ships
			}
			add_opinion_modifier = {
				target = ENG
				modifier = POR_ships_trade
			}
			activate_decision = POR_british_destroyers_construction_progress
			set_country_flag = POR_purchase_british_destroyers_flag
		}
		else_if = {
			limit = { FROM = { tag = ITA } }
			add_opinion_modifier = {
				target = ITA
				modifier = POR_sold_ships
			}
			add_opinion_modifier = {
				target = ITA
				modifier = POR_ships_trade
			}
			activate_decision = POR_italian_destroyers_construction_progress
			set_country_flag = POR_purchase_italian_destroyers_flag
		}
	}
	option = { 
		name = lar_portugal_purchase_ships.2.c
		ai_chance = {
			base = 33
		}

		FROM = {
			add_offsite_building = {
				type = industrial_complex
				level = 1
			}
			add_opinion_modifier = {
				target = POR
				modifier = POR_bought_ships
			}
		}
		if = {
			limit = { FROM = { tag = ENG } }
			add_opinion_modifier = {
				target = ENG
				modifier = POR_sold_ships
			}
			add_opinion_modifier = {
				target = ENG
				modifier = POR_ships_trade
			}
			activate_decision = POR_british_light_cruiser_construction_progress
			set_country_flag = POR_purchase_british_light_cruiser_flag
		}
		else_if = {
			limit = { FROM = { tag = ITA } }
			add_opinion_modifier = {
				target = ITA
				modifier = POR_sold_ships
			}
			add_opinion_modifier = {
				target = ITA
				modifier = POR_ships_trade
			}
			activate_decision = POR_italian_light_cruiser_construction_progress
			set_country_flag = POR_purchase_italian_light_cruiser_flag
		}
	}
}


country_event = {
	id = lar_portugal_purchase_ships.3
	title = lar_portugal_purchase_ships.3.t
	desc = lar_portugal_purchase_ships.3.desc
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	option = {
		name = lar_portugal_purchase_ships.3.a
		clr_country_flag = POR_ships_purchase_in_progress_flag
	}
}


country_event = {
	id = lar_portugal_purchase_ships.4
	title = lar_portugal_purchase_ships.4.t
	desc = lar_portugal_purchase_ships.4.desc
	picture = GFX_report_event_ast_navy

	is_triggered_only = yes

	option = {
		name = lar_portugal_purchase_ships.4.a
		custom_effect_tooltip = lar_portugal_purchase_ships.4.a_tt
	}
}


country_event = {
	id = lar_portugal_purchase_ships.5
	title = lar_portugal_purchase_ships.5.t
	desc = lar_portugal_purchase_ships.5.desc
	picture = GFX_report_event_ast_navy

	is_triggered_only = yes

	option = {
		name = lar_portugal_purchase_ships.5.a
		custom_effect_tooltip = lar_portugal_purchase_ships.5.a_tt
	}
}


country_event = {
	id = lar_portugal_purchase_ships.6
	title = lar_portugal_purchase_ships.6.t
	desc = lar_portugal_purchase_ships.6.desc
	picture = GFX_report_event_ast_navy

	is_triggered_only = yes

	option = {
		name = lar_portugal_purchase_ships.6.a
		custom_effect_tooltip = lar_portugal_purchase_ships.6.a_tt
	}
}




country_event = {
	id = lar_portugal_promote_monarchist_cause.1
	title = lar_portugal_promote_monarchist_cause.1.t
	desc = lar_portugal_promote_monarchist_cause.1.desc
	picture = GFX_report_event_generic_rally

	is_triggered_only = yes

	option = {
		name = lar_portugal_promote_monarchist_cause.1.a
		unlock_decision_tooltip = POR_repress_brazilian_monarchists
	}
}


country_event = {
	id = lar_portugal_promote_monarchist_cause.2
	title = lar_portugal_promote_monarchist_cause.2.t
	desc = lar_portugal_promote_monarchist_cause.2.desc
	picture = GFX_report_event_por_president_military_inspection

	is_triggered_only = yes

	option = { 
		name = lar_portugal_promote_monarchist_cause.2.a
		ai_chance = {
			factor = 80
			modifier = { 
				factor = 0
				NOT = { has_government = neutrality }
			}
		}
		
		hidden_effect = {
			POR = { news_event = { id = lar_news.26 days = 3 random_days = 5 } }
			every_state = {
				limit = { is_core_of = BRA }
				add_core_of  = POR
			}
		}
		POR = {
			country_event = lar_portugal_promote_monarchist_cause.5
			annex_country = { 
				target = ROOT
				transfer_troops = yes
			}
			hidden_effect = {
				set_cosmetic_tag = KPB_kingdom_portugal_and_brazil	
			}
		}
		custom_effect_tooltip = POR_kingdom_reunited_tooltip_tt
		custom_effect_tooltip = GAME_OVER_TT
	}

	option = { 
		name = lar_portugal_promote_monarchist_cause.2.b
		ai_chance = {
			factor = 20
			modifier = { 
				factor = 0
				has_global_flag = POR_portugal_joined_brazilian_civil_war_flag
				has_government = neutrality
			}
		}
		POR = {
			create_wargoal = {
			  	target = ROOT
			    type = annex_everything
			}
			hidden_effect = { country_event = lar_portugal_promote_monarchist_cause.6 }
		}		
	}
}


country_event = {
	id = lar_portugal_promote_monarchist_cause.3
	title = lar_portugal_promote_monarchist_cause.3.t

	desc = {
		text = lar_portugal_promote_monarchist_cause.3.desc 
		trigger = {
			has_country_flag = POR_brazil_supports_monarchism_flag
		}
	}

	desc = {
		text = lar_portugal_promote_monarchist_cause.3.desc_anti_monarchist 
		trigger = {
			NOT = { has_country_flag = POR_brazil_supports_monarchism_flag }
		}
	}

	picture = GFX_report_event_generic_rifles

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			if = { 
				limit = {
					has_country_flag = POR_brazil_supports_monarchism_flag
				}
				set_politics = {
					ruling_party = neutrality
				}
				set_country_flag = EOB_empire_of_brazil_flag
				set_cosmetic_tag = EOB_empire_brazil_neutrality
				create_country_leader = {
					name = "Prince Pedro Henrique"
					desc = "POLITICS_PRINCE_PEDRO_HENRIQUE_DESC"
					picture = "gfx/leaders/BRA/portrait_bra_prince_pedro_hernique_de_orleans_e_braganza.dds"
					expire = "1981.07.05"
					ideology = despotism
					traits = {
						inexperienced_monarch
					}					
				}
				set_temp_variable = { POR_bra_monarchist_cw_opposition = party_popularity@fascism }
				add_to_temp_variable = { POR_bra_monarchist_cw_opposition = party_popularity@communism }
				add_to_temp_variable = { POR_bra_monarchist_cw_opposition = party_popularity@democratic }	
				start_civil_war = {
					ideology = fascism
					size = POR_bra_monarchist_cw_opposition
					capital = 501
					states = { 495 497 498 499 280 502 503 504 505  6436 6437 6438 6439 6440 6441 6442 6443 6444 6445 6446 6447 6448 6449 6450 6451 6452 6478 6479 6480 6481 6482 6483 6484 6485 6486 6487 6488 6489 6490 6491 6492 6493 6494 6495 6496 6497 6498 6499 6500 6501 6502 6503 6504 6505 6506 6507 6508 6509 6510 6511 6512 6513 6514 6515 6516 6517 6518 6519 6520 6521 6522 6523 3293 3294 3295 3296 3297 6568 6569 6570 6571 6572 6573 6574 6575 6576 6577 6578 6579 6580 6581 6582 6583 6584 6585 6586 6587 6588 6589 6590 6591 6592 6593 6594 6595 6596 6597 6598 6599 6600 6601 6602}
				}
				random_country = {
					limit = {
						original_tag = BRA
						has_government = fascism
					}
					POR = { 
						add_to_war = { targeted_alliance = BRA enemy = PREV hostility_reason = asked_to_join }
						hidden_effect = {
							diplomatic_relation = {
								country = BRA
								relation = military_access
								active = yes
							}
						}
					}
				}
				BRA = {
					set_party_name = { 
					    ideology = fascism
					    long_name = BRA_fascism_party_long
					    name = BRA_fascism_party
					}
					create_country_leader = {
						name = "Plínio Salgado"
						desc = "POLITICS_PLINIO_SALGADO_DESC"
						picture = "Portrait_Brazil_Plinio_Salgado.dds"
						expire = "1965.1.1"
						ideology = fascism_ideology
						traits = {
							
						}
					}
					effect_tooltip = {
						give_military_access = POR
					}
					hidden_effect = {
						diplomatic_relation = {
							country = POR
							relation = military_access
							active = yes
						}
					}
					add_opinion_modifier = {
						target = POR
						modifier = POR_helped_in_civil_war
					}
					set_global_flag = POR_portugal_joined_brazilian_civil_war_flag
				}
			}
			else = { 
				set_temp_variable = { POR_bra_monarchist_cw_opposition = party_popularity@neutrality }
				add_to_temp_variable = { POR_bra_monarchist_cw_opposition = party_popularity@communism }
				add_to_temp_variable = { POR_bra_monarchist_cw_opposition = party_popularity@democratic }
				start_civil_war = {
					ideology = neutrality
					size = POR_bra_monarchist_cw_opposition
					capital = 501
					states = { 495 497 280 502 503 504 505  6436 6437 6438 6439 6440 6441 6442 6443 6444 6445 6446 6447 6448 6449 6450 6451 6452 6478 6479 6480 6481 6482 6483 6484 6485 6486 6487 6488 6489 3293 3294 3295 3296 3297 6568 6569 6570 6571 6572 6573 6574 6575 6576 6577 6578 6579 6580 6581 6582 6583 6584 6585 6586 6587 6588 6589 6590 6591 6592 6593 6594 6595 6596 6597 6598 6599 6600 6601 6602}
				}
				if = {
					limit = {
						NOT = { has_government = fascism }
					}
					set_politics = {
						ruling_party = neutrality
					}
				}
				random_country = {
					limit = {
						original_tag = BRA
						has_government = neutrality
					}
					set_country_flag = EOB_empire_of_brazil_flag
					set_cosmetic_tag = EOB_empire_brazil_neutrality
					create_country_leader = {
						name = "Prince Pedro Henrique"
						desc = "POLITICS_PRINCE_PEDRO_HENRIQUE_DESC"
						picture = "gfx/leaders/BRA/portrait_bra_prince_pedro_hernique_de_orleans_e_braganza.dds"
						expire = "1981.07.05"
						ideology = despotism
						traits = {
							inexperienced_monarch
						}					
					}
					create_country_leader = {
						name = "Plínio Salgado"
						desc = "POLITICS_PLINIO_SALGADO_DESC"
						picture = "Portrait_Brazil_Plinio_Salgado.dds"
						expire = "1965.1.1"
						ideology = fascism_ideology
						traits = {
							
						}
					}
					set_party_name = {
					    ideology = fascism
					    long_name = BRA_fascism_party_long
					    name = BRA_fascism_party
					}
					POR = { 
						add_to_war = { targeted_alliance = PREV enemy = BRA hostility_reason = asked_to_join }
						effect_tooltip = {
							give_military_access = PREV
						}
						hidden_effect = {
							diplomatic_relation = {
								country = PREV
								relation = military_access
								active = yes
							}
						}
					}
					effect_tooltip = {
						give_military_access = POR
					}
					hidden_effect = {
						diplomatic_relation = {
							country = POR
							relation = military_access
							active = yes
						}
					}
					add_opinion_modifier = {
						target = POR
						modifier = POR_helped_in_civil_war
					}
					set_global_flag = POR_portugal_joined_brazilian_civil_war_flag
				}
			}
		}
	}

	option = { 
		name = lar_portugal_promote_monarchist_cause.3.a
		
		trigger = {
			has_country_flag = POR_brazil_supports_monarchism_flag
		}
		effect_tooltip = {
			set_politics = {
				ruling_party = neutrality
			}
			set_country_flag = EOB_empire_of_brazil_flag
			set_cosmetic_tag = EOB_empire_brazil_neutrality
			create_country_leader = {
				name = "Prince Pedro Henrique"
				desc = "POLITICS_PRINCE_PEDRO_HENRIQUE_DESC"
				picture = "gfx/leaders/BRA/portrait_bra_prince_pedro_hernique_de_orleans_e_braganza.dds"
				expire = "1981.07.05"
				ideology = despotism
				traits = {
					inexperienced_monarch
				}					
			}
			start_civil_war = {
				ideology = fascism
			}
			random_country = {
				limit = {
					original_tag = BRA
					has_government = fascism
				}
				POR = { 
					add_to_war = { targeted_alliance = BRA enemy = PREV hostility_reason = asked_to_join }
					give_military_access = BRA
				}
			}
			BRA = {
				give_military_access = POR
				add_opinion_modifier = {
					target = POR
					modifier = POR_helped_in_civil_war
				}
			}
		}
		custom_effect_tooltip = lar_portugal_promote_monarchist_cause.3.a_tt
	}

	option = { 
		name = lar_portugal_promote_monarchist_cause.3.b
		
		trigger = {
			NOT = { has_country_flag = POR_brazil_supports_monarchism_flag }
		}
		
		effect_tooltip = {
			start_civil_war = {
				ideology = neutrality
			}
			if = {
				limit = {
					NOT = { has_government = fascism }
				}
				set_politics = {
					ruling_party = neutrality
				}
			}
			random_country = {
				limit = {
					original_tag = BRA
					has_government = neutrality
				}
				set_country_flag = EOB_empire_of_brazil_flag
				set_cosmetic_tag = EOB_empire_brazil_neutrality
				create_country_leader = {
					name = "Prince Pedro Henrique"
					desc = "POLITICS_PRINCE_PEDRO_HENRIQUE_DESC"
					picture = "gfx/leaders/BRA/portrait_bra_prince_pedro_hernique_de_orleans_e_braganza.dds"
					expire = "1981.07.05"
					ideology = despotism
					traits = {
						inexperienced_monarch
					}					
				}
				POR = { 
					add_to_war = { targeted_alliance = PREV enemy = BRA hostility_reason = asked_to_join }
					give_military_access = PREV
				}
				give_military_access = POR
				add_opinion_modifier = {
					target = POR
					modifier = POR_helped_in_civil_war
				}
			}
		}
		custom_effect_tooltip = lar_portugal_promote_monarchist_cause.3.b_tt
	}
}


country_event = {
	id = lar_portugal_promote_monarchist_cause.4
	title = lar_portugal_promote_monarchist_cause.4.t
	desc = lar_portugal_promote_monarchist_cause.4.desc
	picture = GFX_report_event_por_return_of_the_monarchy

	is_triggered_only = yes

	option = {
		name = lar_portugal_promote_monarchist_cause.4.a
		
		add_stability = -0.2
		set_country_flag = EOB_empire_of_brazil_flag
		set_cosmetic_tag = EOB_empire_brazil_neutrality
		create_country_leader = {
			name = "Prince Pedro Henrique"
			desc = "POLITICS_PRINCE_PEDRO_HENRIQUE_DESC"
			picture = "gfx/leaders/BRA/portrait_bra_prince_pedro_hernique_de_orleans_e_braganza.dds"
			expire = "1981.07.05"
			ideology = despotism
			traits = {
				inexperienced_monarch
			}					
		}
		if = {
			limit = { NOT = { has_government = neutrality } }
			set_politics = {
				ruling_party = neutrality
			}
		}
		create_country_leader = {
			name = "Plínio Salgado"
			desc = "POLITICS_PLINIO_SALGADO_DESC"
			picture = "Portrait_Brazil_Plinio_Salgado.dds"
			expire = "1965.1.1"
			ideology = fascism_ideology
			traits = {
				
			}
		}
	}
}


country_event = {
	id = lar_portugal_promote_monarchist_cause.5
	title = lar_portugal_promote_monarchist_cause.5.t
	desc = lar_portugal_promote_monarchist_cause.5.desc
	picture = GFX_report_event_por_return_of_the_monarchy

	is_triggered_only = yes

	option = {
		name = lar_portugal_promote_monarchist_cause.5.a
	}
}


country_event = {
	id = lar_portugal_promote_monarchist_cause.6
	title = lar_portugal_promote_monarchist_cause.6.t
	desc = lar_portugal_promote_monarchist_cause.6.desc
	picture = GFX_report_event_por_return_of_the_monarchy

	is_triggered_only = yes

	option = {
		name = lar_portugal_promote_monarchist_cause.6.a
		effect_tooltip = {
			create_wargoal = {
			  	target = BRA
			    type = annex_everything
			}
		}
	}
}


country_event = {
	id = lar_portugal_promote_monarchist_cause.7
	title = lar_portugal_promote_monarchist_cause.7.t
	desc = lar_portugal_promote_monarchist_cause.7.desc
	picture = GFX_report_event_generic_riot

	is_triggered_only = yes

	option = { 
		name = lar_portugal_promote_monarchist_cause.7.a

		ai_chance = { 
			factor = 100
		}

		custom_effect_tooltip = lar_portugal_promote_monarchist_cause.7.a_tt
		hidden_effect = { set_country_flag = POR_brazil_supports_monarchism_flag }
		add_timed_idea = {
		    idea = POR_monarchists_on_the_rise
		    days = 730
		}
		set_party_name = { 
		    ideology = neutrality
		    long_name = BRA_monarchy_party_long
		    name = BRA_monarchy_party
		}
		set_party_name = { 
		    ideology = fascism
		    long_name = BRA_antimonarchist_coalition_long
		    name = BRA_antimonarchist_coalition
		}
		if = {
			limit = {
				OR = {
					has_government = neutrality
					has_government = democratic
					has_government = communism
				} 
			}
			set_politics = {
				ruling_party = fascism
			}
		}
		set_popularities = {
			democratic = 0
			neutrality = 20
			fascism = 80
			communism = 0
		}
		hidden_effect = { retire_country_leader = yes }
		create_country_leader = {
			name = "Getúlio Vargas"
			desc = "POLITICS_GETÚLIO_VARGAS_DESC"
			picture = "gfx/leaders/BRA/Portrait_Brazil_Getulio_Vargas.dds"
			expire = "1954.8.24"
			ideology = fascism_ideology
			traits = {
				anti_communist
			}					
		}
		create_country_leader = {
			name = "Arlindo Veiga dos Santos"
			desc = "POLITICS_ARLINDO_VEIGA_DOS_SANTOS_DESC"
			picture = "gfx/leaders/BRA/portrait_bra_arlindo_veiga_dos_santos.dds"
			expire = "1954.8.24"
			ideology = despotism
			traits = {
				staunch_monarchist
			}
		}
	}

	option = { 
		name = lar_portugal_promote_monarchist_cause.7.b

		ai_chance = { 
			factor = 0
		}

		custom_effect_tooltip = lar_portugal_promote_monarchist_cause.7.b_tt
		hidden_effect = { set_country_flag = POR_brazil_supports_fascist_coalition_flag }
		add_timed_idea = {
		    idea = POR_monarchists_on_the_rise
		    days = 730
		}
		set_party_name = { 
		    ideology = neutrality
		    long_name = BRA_monarchy_party_long
		    name = BRA_monarchy_party
		}
		set_party_name = { 
		    ideology = fascism
		    long_name = BRA_antimonarchist_coalition_long
		    name = BRA_antimonarchist_coalition
		}
		if = {
			limit = {
				OR = {
					has_government = neutrality
					has_government = democratic
					has_government = communism
				} 
			}
			set_politics = {
				ruling_party = fascism
			}
		}
		set_popularities = {
			democratic = 0
			neutrality = 20
			fascism = 80
			communism = 0
		}
		hidden_effect = { retire_country_leader = yes }
		create_country_leader = {
			name = "Getúlio Vargas"
			desc = "POLITICS_GETÚLIO_VARGAS_DESC"
			picture = "gfx/leaders/BRA/Portrait_Brazil_Getulio_Vargas.dds"
			expire = "1954.8.24"
			ideology = fascism_ideology
			traits = {
				anti_communist
			}					
		}
		create_country_leader = {
			name = "Arlindo Veiga dos Santos"
			desc = "POLITICS_ARLINDO_VEIGA_DOS_SANTOS_DESC"
			picture = "gfx/leaders/BRA/portrait_bra_arlindo_veiga_dos_santos.dds"
			expire = "1954.8.24"
			ideology = despotism
			traits = {
				staunch_monarchist
			}					
		}
	}
}




country_event = {
	id = lar_portugal_spanish_civil_war.1
	title = lar_portugal_spanish_civil_war.1.t
	desc = lar_portugal_spanish_civil_war.1.desc
	picture = GFX_report_event_por_salazar_military

	is_triggered_only = yes

	option = {
		name = lar_portugal_spanish_civil_war.1.a
		POR = {
			unlock_decision_tooltip = POR_fight_alongside_the_republic
		}
		custom_effect_tooltip = lar_portugal_spanish_civil_war.1_tt
	}
}


country_event = {
	id = lar_portugal_spanish_civil_war.2
	title = lar_portugal_spanish_civil_war.2.t
	desc = lar_portugal_spanish_civil_war.2.desc
	picture = GFX_report_event_por_salazar_franco2

	is_triggered_only = yes

	option = {
		name = lar_portugal_spanish_civil_war.2.a
		POR = {
			unlock_decision_tooltip = POR_fight_alongside_the_nationalists
		}
		custom_effect_tooltip = lar_portugal_spanish_civil_war.2_tt
	}
}


country_event = {
	id = lar_portugal_spanish_civil_war.3
	title = lar_portugal_spanish_civil_war.3.t
	desc = lar_portugal_spanish_civil_war.3.desc
	picture = GFX_report_event_por_salazar_franco2

	is_triggered_only = yes

	option = {
		name = lar_portugal_spanish_civil_war.3.a
		POR = {
			unlock_decision_tooltip = POR_fight_alongside_the_carlists
		}
		custom_effect_tooltip = lar_portugal_spanish_civil_war.3_tt
	}
}


country_event = {
	id = lar_portugal_royal_iberian_alliance.1
	title = lar_portugal_royal_iberian_alliance.1.t
	desc = lar_portugal_royal_iberian_alliance.1.desc
	picture = GFX_report_event_por_president_military_inspection

	is_triggered_only = yes

	option = { 
		name = lar_portugal_royal_iberian_alliance.1.a

		ai_chance = {
			base = 60
			modifier = {
				factor = 0
				OR = {
					strength_ratio = { tag = FROM ratio > 2 }
					is_in_faction = yes
					has_war_with = FROM
				}
				
			}
			modifier = {
				factor = 0.5
				strength_ratio = { tag = FROM ratio > 1 }
			}
			modifier = {
				factor = 5
				has_opinion = { target = FROM value > 99 }
			}
		}

		POR = {
			create_faction = POR_royal_iberian_alliance
			add_to_faction = ROOT
		}
	}

	option = { 
		name = lar_portugal_royal_iberian_alliance.1.b

		ai_chance = {
			base = 40
			modifier = {
				factor = 0.2
				has_completed_focus = SPA_restore_the_iberian_union
			}
		}

		POR = {
			add_opinion_modifier = {
				target = ROOT
				modifier = POR_rejected_the_royal_iberian_alliance
			}
		}
	}
}




country_event = {
	id = lar_portugal_overseas_provinces.1
	title = lar_portugal_overseas_provinces.1.t
	desc = lar_portugal_overseas_provinces.1.desc
	picture = GFX_report_event_por_estado_novo

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			if = {
				limit = { has_idea = POR_colonial_assimilation_policy }
				swap_ideas = {
					remove_idea = POR_colonial_assimilation_policy
	    			add_idea = POR_colonial_assimilation_policy_2
				}
			}
			else_if = {
				limit = { has_idea = POR_colonial_assimilation_policy_2 }
				swap_ideas = {
					remove_idea = POR_colonial_assimilation_policy_2
	    			add_idea = POR_colonial_assimilation_policy_3
				}
			}
		}
	}

	option = {
		name = lar_portugal_overseas_provinces.1.a
		add_stability = -0.1
		add_state_core = 540 
		add_state_core = 7156 
		add_state_core = 7157 
		add_state_core = 7158 
		add_state_core = 7159 
		add_state_core = 7160 
		add_state_core = 7161 
		add_state_core = 7162 
		add_state_core = 7163 
		add_state_core = 7164 
		add_state_core = 7165 
		add_state_core = 7166 
		add_state_core = 7167 
		add_state_core = 7168 
		add_state_core = 7169
		add_state_core = 796
		effect_tooltip = {
			if = { 
				limit = { has_idea = POR_colonial_assimilation_policy_2 }
				swap_ideas = {
					remove_idea = POR_colonial_assimilation_policy
	    			add_idea = POR_colonial_assimilation_policy_2
				}
			}
			else_if = {
				limit = { has_idea = POR_colonial_assimilation_policy_3 }
				swap_ideas = {
					remove_idea = POR_colonial_assimilation_policy_2
	    			add_idea = POR_colonial_assimilation_policy_3
				}
			}
		}
	}
}


country_event = {
	id = lar_portugal_overseas_provinces.2
	title = lar_portugal_overseas_provinces.2.t
	desc = lar_portugal_overseas_provinces.2.desc
	picture = GFX_report_event_por_estado_novo

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			if = {
				limit = { has_idea = POR_colonial_assimilation_policy } 
				swap_ideas = {
					remove_idea = POR_colonial_assimilation_policy
	    			add_idea = POR_colonial_assimilation_policy_2
				}
			}
			else_if = {
				limit = { has_idea = POR_colonial_assimilation_policy_2 }
				swap_ideas = {
					remove_idea = POR_colonial_assimilation_policy_2
	    			add_idea = POR_colonial_assimilation_policy_3
				}
			}
		}
	}

	option = {
		name = lar_portugal_overseas_provinces.2.a
		add_stability = -0.1
		add_state_core = 544 
		add_state_core = 7196 
		add_state_core = 7197 
		add_state_core = 7198 
		add_state_core = 7199 
		add_state_core = 7200 
		add_state_core = 7201 
		add_state_core = 7202 
		add_state_core = 7203 
		add_state_core = 7204 
		add_state_core = 7205 
		add_state_core = 7206 
		add_state_core = 7207 
		add_state_core = 7208 
		add_state_core = 7209 
		add_state_core = 7210
		effect_tooltip = {
			if = { 
				limit = { has_idea = POR_colonial_assimilation_policy_2 }
				swap_ideas = {
					remove_idea = POR_colonial_assimilation_policy
	    			add_idea = POR_colonial_assimilation_policy_2
				}
			}
			else_if = {
				limit = { has_idea = POR_colonial_assimilation_policy_3 }
				swap_ideas = {
					remove_idea = POR_colonial_assimilation_policy_2
	    			add_idea = POR_colonial_assimilation_policy_3
				}
			}
		}
	}
}