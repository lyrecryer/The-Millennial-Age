
add_namespace = france


country_event = {
	id = france.1
	title = france.1.t
	desc = france.1.d
	picture = GFX_report_event_japan_army_mountainside
	
	is_triggered_only = yes
	
	option = { 
		name = france.1.a
		ai_chance = {
			factor = 25 
			modifier = {
				factor = 50
				has_war = yes
				any_enemy_country = {
					strength_ratio = { 
						tag = ROOT 
						ratio < 0.4
					}
				}
			}
			modifier = {
				factor = 75
				16 = { NOT = { is_controlled_by = FRA } } 
			}
		} 
		JAP = {
			country_event = { days = 5 id = japan.6 }
		}
	}
	option = { 
		name = france.1.b
		ai_chance = { factor = 25 }
		JAP = {
			country_event = { days = 5 id = japan.7 }
		}
	}
}


country_event = {
	id = france.2
	title = france.2.t
	desc = france.2.d
	picture = GFX_report_event_bunker_01
	
	is_triggered_only = yes
	
	option = {
		name = france.2.a
		18 = {
			add_building_construction = {
				type = bunker
				province = 5291
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 3560
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 9472
				level = 2
				instant_build = yes
			}
		}
		29 = {
			add_building_construction = {
				type = bunker
				province = 11606
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 11483
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 575
				level = 2
				instant_build = yes
			}
		}
		785 = {
			add_building_construction = {
				type = bunker
				province = 3447
				level = 2
				instant_build = yes
			}
		}
	}
}


country_event = {
	id = france.3
	title = france.3.t
	desc = france.3.d
	picture = GFX_report_event_bunker_01

	is_triggered_only = yes
	
	option = {
		name = france.3.a
		735 = {
			add_building_construction = {
				type = bunker
				province = 764
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 9909
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 3959
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 6975
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 3764
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 9745
				level = 2
				instant_build = yes
			}
			add_building_construction = {
				type = bunker
				province = 778
				level = 2
				instant_build = yes
			}
		}
	}
}




country_event = {
	id = france.101
	hidden = yes
	trigger = {
		tag = FRA
		has_war_with = GER
		has_government = democratic
		16 = { is_controlled_by = GER }
		is_in_faction_with = ENG
		ENG = { has_war_with = GER }
		surrender_progress > 0.7
		GER = {
			OR = {
				is_faction_leader = yes
				has_government = neutrality
			}
		}
		has_civil_war = no
		
		NOT = {
			any_state = {
				is_on_continent = europe
				NOT = { state = 158 }
				NOT = { state = 114 }
				NOT = { state = 50 }
				NOT = { state = 42 }
				is_controlled_by = ROOT
				OR = {
					is_owned_by = GER
					AND = {
						FRA = { has_War_with = ITA }
						is_owned_by = ITA
					}
				}
			}
		}		

		
		NOT = {
			any_country = {
				is_ai = no
				NOT = { tag = GER }
				NOT = { is_in_faction_with = GER }
				has_war_with = ROOT
				any_state = {
					is_on_continent = europe
					NOT = { state = 1 }
					NOT = { state = 735 }
					NOT = { state = 21 }
					NOT = { state = 31 }
					is_owned_by = ROOT
					is_controlled_by = PREV
				}
			}
		}
	}
	mean_time_to_happen = { days = 2 }
	immediate = {
		country_event = france.10
	}
}

country_event = {
	id = france.10
	title = france.10.t
	desc = france.10.d
	picture = GFX_report_event_german_parade_paris
	
	fire_only_once = yes
	
	is_triggered_only = yes

	immediate = {
		set_global_flag = achievement_france_surrender
	}
	
	option = { 
		name = france.10.a
		trigger = { is_ai = no }
		set_country_flag = become_vichy
		save_global_event_target_as = vichy_france
		set_global_flag = fall_of_france
		GER = { country_event = france.14 }
		custom_effect_tooltip = france.10.a_tt
		
	}
	option = { 
		name = france.10.b
		ai_chance = {
			factor = 85
		}
		set_global_flag = fall_of_france
		save_global_event_target_as = free_france
		GER = { country_event = france.14 }
		custom_effect_tooltip = france.10.b_tt
	}
	option = { 
		name = france.10.c
		ai_chance = {
			factor = 15
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		ENG = {
			country_event = france.11
			effect_tooltip = {
				annex_country = { target = FRA transfer_troops = yes }
			}
		}
		custom_effect_tooltip = GAME_OVER_TT
	}
	option = { 
		name = france.10.e
		ai_chance = {
			factor = 15
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		trigger = { has_war_support > 0.7 }
		add_stability = -0.05
	}
}


country_event = {
	id = france.11
	title = france.11.t
	desc = france.11.d
	picture = GFX_report_event_degaulle_churchill
	
	is_triggered_only = yes
	
	option = { 
		name = france.11.a
		ai_chance = {
			factor = 10
		}
		FRA = {
			country_event = { hours = 6 id = france.13 }
		}
	}
	option = { 
		name = france.11.b
		ai_chance = {
			factor = 90
		}
		FRA = {
			country_event = { hours = 6 id = france.12 }
		}
	}
}


country_event = {
	id = france.12
	title = france.12.t
	desc = france.12.d
	picture = GFX_report_event_chamberlain_announce
	
	is_triggered_only = yes
	
	option = {
		name = france.12.a
		
		set_global_flag = fall_of_france
		set_global_flag = flag_franco_british_union
		hidden_effect = {
			every_state = {
				limit = {
					is_core_of = FRA
				}
				ENG = {
					add_state_core = PREV
				}
			}
		}
		FRA = {
			every_unit_leader = {
				set_unit_leader_flag = flag_former_french_general
				set_nationality = ENG
			}
		}
		ENG = {
			annex_country = { target = FRA transfer_troops = yes }
		}
		custom_effect_tooltip = FRA_franco_british_cores
		hidden_effect = {
			ENG = { set_cosmetic_tag = FRA_UK }
			GER = { 
				country_event = { hours = 6 id = news.35 }
			}
		}
	}
}


country_event = {
	id = france.13
	title = france.13.t
	desc = france.13.d
	picture = GFX_report_event_pierre_laval
	
	is_triggered_only = yes
	
	option = { 
		name = france.13.a
		trigger = { is_ai = no }
		set_country_flag = become_vichy
		set_global_flag = fall_of_france
		save_global_event_target_as = vichy_france
		GER = { country_event = france.14 }
		custom_effect_tooltip = france.10.a_tt
		
	}
	option = { 
		name = france.13.b
		GER = { country_event = france.14 }
		save_global_event_target_as = free_france
		custom_effect_tooltip = france.10.b_tt
		set_global_flag = fall_of_france
	}
	option = { 
		name = france.10.e
		ai_chance = {
			factor = 15
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		trigger = { has_war_support > 0.7 }
		add_stability = -0.05
		custom_effect_tooltip = france_continue_the_fight_tt
	}
}


country_event = {
	id = france.14
	title = france.14.t
	desc = france.14.d
	picture = GFX_report_event_german_parade_paris
	
	is_triggered_only = yes
	
	option = { 
		name = france.14.a
		ai_chance = {
			factor = 50
		}
		trigger = {
			has_government = fascism
			not = { has_dlc = "La Resistance" }
		}
		
		FRA = {
			set_cosmetic_tag = FRA_FREE
		}
		
		if = {
			limit = { 28 = { owner = { original_tag = FRA } } }
			set_state_controller = 28 
		set_state_controller = 3286 
		set_state_controller = 3287 
		set_state_controller = 3288 
		set_state_controller = 3289 
		set_state_controller = 3290 
		set_state_controller = 3291 
		set_state_controller = 3292
		}
		if = {
			limit = { 17 = { owner = { original_tag = FRA } } }
			set_state_controller = 17 
		set_state_controller = 1675 
		set_state_controller = 1676 
		set_state_controller = 1677 
		set_state_controller = 1678 
		set_state_controller = 1679 
		set_state_controller = 1680 
		set_state_controller = 1681 
		set_state_controller = 1682 
		set_state_controller = 1683
		}
		if = {
			limit = { 27 = { owner = { original_tag = FRA } } }
			set_state_controller = 27 
		set_state_controller = 3151 
		set_state_controller = 3152 
		set_state_controller = 3153 
		set_state_controller = 3154 
		set_state_controller = 3155 
		set_state_controller = 3156 
		set_state_controller = 3157 
		set_state_controller = 3158 
		set_state_controller = 3159 
		set_state_controller = 3160 
		set_state_controller = 3161
		}
		if = {
			limit = { 18 = { owner = { original_tag = FRA } } }
			set_state_controller = 18 
		set_state_controller = 1769 
		set_state_controller = 1770 
		set_state_controller = 1771 
		set_state_controller = 1772 
		set_state_controller = 1773 
		set_state_controller = 1774 
		set_state_controller = 1775 
		set_state_controller = 1776 
		set_state_controller = 1777 
		set_state_controller = 1778 
		set_state_controller = 1779
		}
		if = {
			limit = { 29 = { owner = { original_tag = FRA } } }
			set_state_controller = 29 
		set_state_controller = 3520 
		set_state_controller = 3521 
		set_state_controller = 3522 
		set_state_controller = 3523 
		set_state_controller = 3524 
		set_state_controller = 3525 
		set_state_controller = 3526
		}
		if = {
			limit = { 785 = { owner = { original_tag = FRA } } }
			set_state_controller = 785 
		set_state_controller = 9815 
		set_state_controller = 9816 
		set_state_controller = 9817 
		set_state_controller = 9818 
		set_state_controller = 9819 
		set_state_controller = 9820
		}
		if = {
			limit = { 15 = { owner = { original_tag = FRA } } }
			set_state_controller = 15 
		set_state_controller = 1424 
		set_state_controller = 1425 
		set_state_controller = 1426 
		set_state_controller = 1427 
		set_state_controller = 1428 
		set_state_controller = 1429 
		set_state_controller = 1430 
		set_state_controller = 1431 
		set_state_controller = 1432 
		set_state_controller = 1433 
		set_state_controller = 1434 
		set_state_controller = 1435 
		set_state_controller = 1436 
		set_state_controller = 1437
		}
		if = {
			limit = { 16 = { owner = { original_tag = FRA } } }
			set_state_controller = 16 
		set_state_controller = 1586 
		set_state_controller = 1587 
		set_state_controller = 1588 
		set_state_controller = 1589 
		set_state_controller = 1590 
		set_state_controller = 1591 
		set_state_controller = 1592 
		set_state_controller = 1593
		}
		if = {
			limit = { 24 = { owner = { original_tag = FRA } } }
			set_state_controller = 24 
		set_state_controller = 2587 
		set_state_controller = 2588 
		set_state_controller = 2589 
		set_state_controller = 2590 
		set_state_controller = 2591 
		set_state_controller = 2592 
		set_state_controller = 2593 
		set_state_controller = 2594
		}
		if = {
			limit = { 30 = { owner = { original_tag = FRA } } }
			set_state_controller = 30 
		set_state_controller = 3614 
		set_state_controller = 3615 
		set_state_controller = 3616 
		set_state_controller = 3617 
		set_state_controller = 3618 
		set_state_controller = 3619 
		set_state_controller = 3620 
		set_state_controller = 3621 
		set_state_controller = 3622 
		set_state_controller = 3623
		}
		if = {
			limit = { 14 = { owner = { original_tag = FRA } } }
			set_state_controller = 14 
		set_state_controller = 1205 
		set_state_controller = 1206 
		set_state_controller = 1207 
		set_state_controller = 1208 
		set_state_controller = 1209 
		set_state_controller = 1210 
		set_state_controller = 1211 
		set_state_controller = 1212 
		set_state_controller = 1213
		}
		if = {
			limit = { 23 = { owner = { original_tag = FRA } } }
			set_state_controller = 23 
		set_state_controller = 2392 
		set_state_controller = 2393 
		set_state_controller = 2394 
		set_state_controller = 2395 
		set_state_controller = 2396 
		set_state_controller = 2397 
		set_state_controller = 2398 
		set_state_controller = 2399 
		set_state_controller = 2400
		}
		if = {
			limit = { 19 = { owner = { original_tag = FRA } } }
			set_state_controller = 19 
		set_state_controller = 1829 
		set_state_controller = 1830 
		set_state_controller = 1831 
		set_state_controller = 1832 
		set_state_controller = 1833 
		set_state_controller = 1834
		}
		
		if = { 
			limit = {
				AND = {
					735 = { 
						owner = { original_tag = FRA }
						is_controlled_by = ITA
					}
					21 = { 
						owner = { original_tag = FRA }
						is_controlled_by = ITA
					}
					32 = { 
						owner = { original_tag = FRA }
						is_controlled_by = ITA
					}
				}
			}
			ITA = { transfer_state = 32 
		transfer_state = 3735 
		transfer_state = 3736 
		transfer_state = 3737 
		transfer_state = 3738 
		transfer_state = 3739 }
		}
		if = {
			limit = {
				AND = {
					21 = { 
						owner = { original_tag = FRA }
						is_controlled_by = ITA
					}
				}
			}
			ITA = { transfer_state = 21 
		transfer_state = 2035 
		transfer_state = 2036 
		transfer_state = 2037 
		transfer_state = 2038 
		transfer_state = 2039 
		transfer_state = 2040 
		transfer_state = 2041 }
		}
		if = {
			limit = {
				AND = {
					1 = { 
						owner = { original_tag = FRA }
						is_controlled_by = ITA
					}
				}
			}
			ITA = { transfer_state = 1 
		transfer_state = 797 
		transfer_state = 798 }
		}
		if = {
			limit = {
				AND = {
					735 = { 
						owner = { original_tag = FRA }
						is_controlled_by = ITA
					}
				}
			}
			ITA = { transfer_state = 735 
		transfer_state = 9498 
		transfer_state = 9499 
		transfer_state = 9500 
		transfer_state = 9501 
		transfer_state = 9502 
		transfer_state = 9503 
		transfer_state = 9504 
		transfer_state = 9505 
		transfer_state = 9506 
		transfer_state = 9507 
		transfer_state = 9508 }
		}
		
		
		if = {
			limit = {
				31 = { 
					owner = { original_tag = FRA }
					controller = { original_tag = SPR }
				}
			}
			random_other_country = {
				limit = {
					original_tag = SPR
					has_war_with = FRA
				}
				transfer_state = 31 
		transfer_state = 3689 
		transfer_state = 3690 
		transfer_state = 3691 
		transfer_state = 3692 
		transfer_state = 3693 
		transfer_state = 3694 
		transfer_state = 3695 
		transfer_state = 3696 
		transfer_state = 3697 
		transfer_state = 3698 
		transfer_state = 3699 
		transfer_state = 3700 
		transfer_state = 3701 
		transfer_state = 3702 
		transfer_state = 3703 
		transfer_state = 3704 
		transfer_state = 3705 
		transfer_state = 3706
			}
		}
		FRA = {
			set_capital = 539
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				
			}
			hidden_effect = {
					set_state_controller = 26 
		set_state_controller = 2988 
		set_state_controller = 2989 
		set_state_controller = 2990 
		set_state_controller = 2991 
		set_state_controller = 2992 
		set_state_controller = 2993 
		set_state_controller = 2994 
		set_state_controller = 2995 
		set_state_controller = 2996 
		set_state_controller = 2997
					set_state_controller = 22 
		set_state_controller = 2263 
		set_state_controller = 2264 
		set_state_controller = 2265 
		set_state_controller = 2266 
		set_state_controller = 2267 
		set_state_controller = 2268 
		set_state_controller = 2269 
		set_state_controller = 2270 
		set_state_controller = 2271 
		set_state_controller = 2272
					set_state_controller = 25 
		set_state_controller = 2756 
		set_state_controller = 2757 
		set_state_controller = 2758 
		set_state_controller = 2759 
		set_state_controller = 2760 
		set_state_controller = 2761 
		set_state_controller = 2762 
		set_state_controller = 2763 
		set_state_controller = 2764 
		set_state_controller = 2765 
		set_state_controller = 2766 
		set_state_controller = 2767
					set_state_controller = 20 
		set_state_controller = 1918 
		set_state_controller = 1919 
		set_state_controller = 1920 
		set_state_controller = 1921 
		set_state_controller = 1922 
		set_state_controller = 1923 
		set_state_controller = 1924 
		set_state_controller = 1925 
		set_state_controller = 1926 
		set_state_controller = 1927 
		set_state_controller = 1928 
		set_state_controller = 1929
					set_state_controller = 33 
		set_state_controller = 3825 
		set_state_controller = 3826 
		set_state_controller = 3827 
		set_state_controller = 3828 
		set_state_controller = 3829 
		set_state_controller = 3830 
		set_state_controller = 3831 
		set_state_controller = 3832
					
					if = {
						limit = {
							458 = {
								owner = { original_tag = FRA }
								controller = { 
									original_tag = FRA
								}
							}
						}
						set_state_controller = 458 
		set_state_controller = 6036 
		set_state_controller = 6037 
		set_state_controller = 6038 
		set_state_controller = 6039 
		set_state_controller = 6040 
		set_state_controller = 6041 
		set_state_controller = 6042 
		set_state_controller = 6043 
		set_state_controller = 6044 
		set_state_controller = 6045 
		set_state_controller = 6046
					}					

					
					if = {
						limit = {
							677 = {
								owner = { original_tag = FRA }
								controller = { 
									original_tag = FRA
								}
							}
						}
						set_state_controller = 677 
		set_state_controller = 9136 
		set_state_controller = 9137 
		set_state_controller = 9138 
		set_state_controller = 9139 
		set_state_controller = 9140 
		set_state_controller = 9141 
		set_state_controller = 9142
					}
					if = {
						limit = {
							680 = {
								owner = { original_tag = FRA }
								controller = { 
									original_tag = FRA
								}
							}
						}
						set_state_controller = 680 
		set_state_controller = 9172 
		set_state_controller = 9173 
		set_state_controller = 9174 
		set_state_controller = 9175 
		set_state_controller = 9176 
		set_state_controller = 9177 
		set_state_controller = 9178 
		set_state_controller = 9179 
		set_state_controller = 9180 
		set_state_controller = 9181 
		set_state_controller = 9182 
		set_state_controller = 9183
					}
					if = {
						limit = {
							554 = {
								owner = { original_tag = FRA }
								controller = { 
									original_tag = FRA
								}
							}
						}
						set_state_controller = 554 
		set_state_controller = 7326 
		set_state_controller = 7327 
		set_state_controller = 7328 
		set_state_controller = 7329 
					}

					if = {
						limit = {
							1 = {
								owner = { original_tag = FRA }
							}
						}
						set_state_controller = 1 
		set_state_controller = 797 
		set_state_controller = 798
					}
					if = {
						limit = {
							32 = {
								owner = { original_tag = FRA }
							}
						}
						set_state_controller = 32 
		set_state_controller = 3735 
		set_state_controller = 3736 
		set_state_controller = 3737 
		set_state_controller = 3738 
		set_state_controller = 3739
					}
					if = {
						limit = {
							735 = {
								owner = { original_tag = FRA }
							}
						}
						set_state_controller = 735 
		set_state_controller = 9498 
		set_state_controller = 9499 
		set_state_controller = 9500 
		set_state_controller = 9501 
		set_state_controller = 9502 
		set_state_controller = 9503 
		set_state_controller = 9504 
		set_state_controller = 9505 
		set_state_controller = 9506 
		set_state_controller = 9507 
		set_state_controller = 9508
					}
					if = {
						limit = {
							21 = {
								owner = { original_tag = FRA }
							}
						}
						set_state_controller = 21 
		set_state_controller = 2035 
		set_state_controller = 2036 
		set_state_controller = 2037 
		set_state_controller = 2038 
		set_state_controller = 2039 
		set_state_controller = 2040 
		set_state_controller = 2041
					}
					if = {
						limit = {
							31 = {
								owner = { original_tag = FRA }
							}
						}
						set_state_controller = 31 
		set_state_controller = 3689 
		set_state_controller = 3690 
		set_state_controller = 3691 
		set_state_controller = 3692 
		set_state_controller = 3693 
		set_state_controller = 3694 
		set_state_controller = 3695 
		set_state_controller = 3696 
		set_state_controller = 3697 
		set_state_controller = 3698 
		set_state_controller = 3699 
		set_state_controller = 3700 
		set_state_controller = 3701 
		set_state_controller = 3702 
		set_state_controller = 3703 
		set_state_controller = 3704 
		set_state_controller = 3705 
		set_state_controller = 3706
					}
			}
			start_civil_war = {
				ideology = fascism
				size = 0.9
				capital = 26
				states = { 26 21 22 31 25 20 32 33 1 735 677 680 554 458 462 461 513 459 460 665 553 272 556 543 706 708 713 268 557 514 515 776 777 778 779 780 781 782 786  2988 2989 2990 2991 2992 2993 2994 2995 2996 2997 2035 2036 2037 2038 2039 2040 2041 2263 2264 2265 2266 2267 2268 2269 2270 2271 2272 3689 3690 3691 3692 3693 3694 3695 3696 3697 3698 3699 3700 3701 3702 3703 3704 3705 3706 2756 2757 2758 2759 2760 2761 2762 2763 2764 2765 2766 2767 1918 1919 1920 1921 1922 1923 1924 1925 1926 1927 1928 1929 3735 3736 3737 3738 3739 3825 3826 3827 3828 3829 3830 3831 3832 797 798 9498 9499 9500 9501 9502 9503 9504 9505 9506 9507 9508 9136 9137 9138 9139 9140 9141 9142 9172 9173 9174 9175 9176 9177 9178 9179 9180 9181 9182 9183 7326 7327 7328 7329 6036 6037 6038 6039 6040 6041 6042 6043 6044 6045 6046 6099 6100 6101 6102 6103 6104 6105 6106 6107 6108 6109 6110 6111 6083 6084 6085 6086 6087 6088 6089 6090 6091 6092 6093 6094 6095 6096 6097 6098 6691 6692 6693 6694 6695 6696 6697 6698 6699 6700 6701 6702 6703 6704 6705 6706 6707 6708 6709 6710 6711 6047 6048 6049 6050 6051 6052 6053 6054 6055 6073 6074 6075 6076 6077 6078 6079 6080 6081 6082 8808 8809 8810 8811 8812 8813 8814 8815 8816 8817 8818 7324 7325 3183 3184 3185 3186 3187 7332 7333 7334 7335 7336 7337 7338 7339 7340 7341 7342 7343 7344 7345 7187 7188 7189 7190 7191 7192 7193 7194 7195    3143 7346 7347 7348 7349 6712 6713 6714 6715 6716 6717 6718 6719 6720 6721 6722 6723 6724 6725 6726 6727 6728 6729 6730 6731 6732 6733 6734 6735 9779 9780 9781 9782 9783 9784 9785 9786 9787 9788 9789 9790 9791 9792 9802 9803 9804 9805 9806 9807 9808 9809 9810 9811 9821 9822 9823 9824 9825 9826}
				states_filter = {
					owner = { original_tag = FRA }
					OR = {		
						
						AND = {
							OR = {
								state = 554
								state = 680
								state = 677
								state = 458
							}
							controller = { 
								original_tag = FRA
							}
						}
						NOT = {
							OR = {
								state = 554
								state = 680
								state = 677
								state = 458
							}						
						}
					}					
				}
			}
		}
		random_other_country = {
			limit = { original_tag = FRA has_government = fascism }
			ROOT = { puppet = PREV }
			set_capital = 26
			set_politics = {
				ruling_party = fascism
				elections_allowed = no
			}
			set_popularities = {
				democratic = 22
				fascism = 76
				communism = 2
			}
			every_unit_leader = {
				limit = {
					has_id = 101
				}
				set_nationality = FRA
			}
			
			if = {
				limit = { FRA = { has_country_flag = become_vichy } }
				change_tag_from = FRA
			}
			save_event_target_as = vichy_france
		}
		country_event = { hours = 6 id = news.34 }
		hidden_effect =  {
			FRA = { news_event = { id = france.20 days = 1 } }
		}
	}

	option = { 
		name = france.14.c
		ai_chance = {
			factor = 50
		}
		trigger = {
			has_government = neutrality
		}
		
		FRA = {
			set_cosmetic_tag = FRA_FREE
		}
		
		if = {
			limit = { 28 = { owner = { original_tag = FRA } } }
			set_state_controller = 28 
		set_state_controller = 3286 
		set_state_controller = 3287 
		set_state_controller = 3288 
		set_state_controller = 3289 
		set_state_controller = 3290 
		set_state_controller = 3291 
		set_state_controller = 3292
		}
		if = {
			limit = { 17 = { owner = { original_tag = FRA } } }
			set_state_controller = 17 
		set_state_controller = 1675 
		set_state_controller = 1676 
		set_state_controller = 1677 
		set_state_controller = 1678 
		set_state_controller = 1679 
		set_state_controller = 1680 
		set_state_controller = 1681 
		set_state_controller = 1682 
		set_state_controller = 1683
		}
		if = {
			limit = { 27 = { owner = { original_tag = FRA } } }
			set_state_controller = 27 
		set_state_controller = 3151 
		set_state_controller = 3152 
		set_state_controller = 3153 
		set_state_controller = 3154 
		set_state_controller = 3155 
		set_state_controller = 3156 
		set_state_controller = 3157 
		set_state_controller = 3158 
		set_state_controller = 3159 
		set_state_controller = 3160 
		set_state_controller = 3161
		}
		if = {
			limit = { 18 = { owner = { original_tag = FRA } } }
			set_state_controller = 18 
		set_state_controller = 1769 
		set_state_controller = 1770 
		set_state_controller = 1771 
		set_state_controller = 1772 
		set_state_controller = 1773 
		set_state_controller = 1774 
		set_state_controller = 1775 
		set_state_controller = 1776 
		set_state_controller = 1777 
		set_state_controller = 1778 
		set_state_controller = 1779
		}
		if = {
			limit = { 29 = { owner = { original_tag = FRA } } }
			set_state_controller = 29 
		set_state_controller = 3520 
		set_state_controller = 3521 
		set_state_controller = 3522 
		set_state_controller = 3523 
		set_state_controller = 3524 
		set_state_controller = 3525 
		set_state_controller = 3526
		}
		if = {
			limit = { 785 = { owner = { original_tag = FRA } } }
			set_state_controller = 785 
		set_state_controller = 9815 
		set_state_controller = 9816 
		set_state_controller = 9817 
		set_state_controller = 9818 
		set_state_controller = 9819 
		set_state_controller = 9820
		}
		if = {
			limit = { 15 = { owner = { original_tag = FRA } } }
			set_state_controller = 15 
		set_state_controller = 1424 
		set_state_controller = 1425 
		set_state_controller = 1426 
		set_state_controller = 1427 
		set_state_controller = 1428 
		set_state_controller = 1429 
		set_state_controller = 1430 
		set_state_controller = 1431 
		set_state_controller = 1432 
		set_state_controller = 1433 
		set_state_controller = 1434 
		set_state_controller = 1435 
		set_state_controller = 1436 
		set_state_controller = 1437
		}
		if = {
			limit = { 16 = { owner = { original_tag = FRA } } }
			set_state_controller = 16 
		set_state_controller = 1586 
		set_state_controller = 1587 
		set_state_controller = 1588 
		set_state_controller = 1589 
		set_state_controller = 1590 
		set_state_controller = 1591 
		set_state_controller = 1592 
		set_state_controller = 1593
		}
		if = {
			limit = { 24 = { owner = { original_tag = FRA } } }
			set_state_controller = 24 
		set_state_controller = 2587 
		set_state_controller = 2588 
		set_state_controller = 2589 
		set_state_controller = 2590 
		set_state_controller = 2591 
		set_state_controller = 2592 
		set_state_controller = 2593 
		set_state_controller = 2594
		}
		if = {
			limit = { 30 = { owner = { original_tag = FRA } } }
			set_state_controller = 30 
		set_state_controller = 3614 
		set_state_controller = 3615 
		set_state_controller = 3616 
		set_state_controller = 3617 
		set_state_controller = 3618 
		set_state_controller = 3619 
		set_state_controller = 3620 
		set_state_controller = 3621 
		set_state_controller = 3622 
		set_state_controller = 3623
		}
		if = {
			limit = { 14 = { owner = { original_tag = FRA } } }
			set_state_controller = 14 
		set_state_controller = 1205 
		set_state_controller = 1206 
		set_state_controller = 1207 
		set_state_controller = 1208 
		set_state_controller = 1209 
		set_state_controller = 1210 
		set_state_controller = 1211 
		set_state_controller = 1212 
		set_state_controller = 1213
		}
		if = {
			limit = { 23 = { owner = { original_tag = FRA } } }
			set_state_controller = 23 
		set_state_controller = 2392 
		set_state_controller = 2393 
		set_state_controller = 2394 
		set_state_controller = 2395 
		set_state_controller = 2396 
		set_state_controller = 2397 
		set_state_controller = 2398 
		set_state_controller = 2399 
		set_state_controller = 2400
		}
		if = {
			limit = { 19 = { owner = { original_tag = FRA } } }
			set_state_controller = 19 
		set_state_controller = 1829 
		set_state_controller = 1830 
		set_state_controller = 1831 
		set_state_controller = 1832 
		set_state_controller = 1833 
		set_state_controller = 1834
		}
		
		if = { 
			limit = {
				AND = {
					735 = { 
						owner = { original_tag = FRA }
						is_controlled_by = ITA
					}
					21 = { 
						owner = { original_tag = FRA }
						is_controlled_by = ITA
					}
					32 = { 
						owner = { original_tag = FRA }
						is_controlled_by = ITA
					}
				}
			}
			ITA = { transfer_state = 32 
		transfer_state = 3735 
		transfer_state = 3736 
		transfer_state = 3737 
		transfer_state = 3738 
		transfer_state = 3739 }
		}
		if = {
			limit = {
				AND = {
					21 = { 
						owner = { original_tag = FRA }
						is_controlled_by = ITA
					}
				}
			}
			ITA = { transfer_state = 21 
		transfer_state = 2035 
		transfer_state = 2036 
		transfer_state = 2037 
		transfer_state = 2038 
		transfer_state = 2039 
		transfer_state = 2040 
		transfer_state = 2041 }
		}
		if = {
			limit = {
				AND = {
					1 = { 
						owner = { original_tag = FRA }
						is_controlled_by = ITA
					}
				}
			}
			ITA = { transfer_state = 1 
		transfer_state = 797 
		transfer_state = 798 }
		}
		if = {
			limit = {
				AND = {
					735 = { 
						owner = { original_tag = FRA }
						is_controlled_by = ITA
					}
				}
			}
			ITA = { transfer_state = 735 
		transfer_state = 9498 
		transfer_state = 9499 
		transfer_state = 9500 
		transfer_state = 9501 
		transfer_state = 9502 
		transfer_state = 9503 
		transfer_state = 9504 
		transfer_state = 9505 
		transfer_state = 9506 
		transfer_state = 9507 
		transfer_state = 9508 }
		}
		
		
		if = {
			limit = {
				31 = { 
					owner = { original_tag = FRA }
					controller = { original_tag = SPR }
				}
			}
			random_other_country = {
				limit = {
					original_tag = SPR
					has_war_with = FRA
				}
				transfer_state = 31 
		transfer_state = 3689 
		transfer_state = 3690 
		transfer_state = 3691 
		transfer_state = 3692 
		transfer_state = 3693 
		transfer_state = 3694 
		transfer_state = 3695 
		transfer_state = 3696 
		transfer_state = 3697 
		transfer_state = 3698 
		transfer_state = 3699 
		transfer_state = 3700 
		transfer_state = 3701 
		transfer_state = 3702 
		transfer_state = 3703 
		transfer_state = 3704 
		transfer_state = 3705 
		transfer_state = 3706
			}
		}
		FRA = {
			set_capital = 539
			hidden_effect = {
					set_state_controller = 26 
		set_state_controller = 2988 
		set_state_controller = 2989 
		set_state_controller = 2990 
		set_state_controller = 2991 
		set_state_controller = 2992 
		set_state_controller = 2993 
		set_state_controller = 2994 
		set_state_controller = 2995 
		set_state_controller = 2996 
		set_state_controller = 2997
					set_state_controller = 22 
		set_state_controller = 2263 
		set_state_controller = 2264 
		set_state_controller = 2265 
		set_state_controller = 2266 
		set_state_controller = 2267 
		set_state_controller = 2268 
		set_state_controller = 2269 
		set_state_controller = 2270 
		set_state_controller = 2271 
		set_state_controller = 2272
					set_state_controller = 25 
		set_state_controller = 2756 
		set_state_controller = 2757 
		set_state_controller = 2758 
		set_state_controller = 2759 
		set_state_controller = 2760 
		set_state_controller = 2761 
		set_state_controller = 2762 
		set_state_controller = 2763 
		set_state_controller = 2764 
		set_state_controller = 2765 
		set_state_controller = 2766 
		set_state_controller = 2767
					set_state_controller = 20 
		set_state_controller = 1918 
		set_state_controller = 1919 
		set_state_controller = 1920 
		set_state_controller = 1921 
		set_state_controller = 1922 
		set_state_controller = 1923 
		set_state_controller = 1924 
		set_state_controller = 1925 
		set_state_controller = 1926 
		set_state_controller = 1927 
		set_state_controller = 1928 
		set_state_controller = 1929
					set_state_controller = 33 
		set_state_controller = 3825 
		set_state_controller = 3826 
		set_state_controller = 3827 
		set_state_controller = 3828 
		set_state_controller = 3829 
		set_state_controller = 3830 
		set_state_controller = 3831 
		set_state_controller = 3832

					
					if = {
						limit = {
							458 = {
								owner = { original_tag = FRA }
								controller = { 
									original_tag = FRA
								}
							}
						}
						set_state_controller = 458 
		set_state_controller = 6036 
		set_state_controller = 6037 
		set_state_controller = 6038 
		set_state_controller = 6039 
		set_state_controller = 6040 
		set_state_controller = 6041 
		set_state_controller = 6042 
		set_state_controller = 6043 
		set_state_controller = 6044 
		set_state_controller = 6045 
		set_state_controller = 6046
					}					

					
					if = {
						limit = {
							677 = {
								owner = { original_tag = FRA }
								controller = { 
									original_tag = FRA
								}
							}
						}
						set_state_controller = 677 
		set_state_controller = 9136 
		set_state_controller = 9137 
		set_state_controller = 9138 
		set_state_controller = 9139 
		set_state_controller = 9140 
		set_state_controller = 9141 
		set_state_controller = 9142
					}
					if = {
						limit = {
							680 = {
								owner = { original_tag = FRA }
								controller = { 
									original_tag = FRA
								}
							}
						}
						set_state_controller = 680 
		set_state_controller = 9172 
		set_state_controller = 9173 
		set_state_controller = 9174 
		set_state_controller = 9175 
		set_state_controller = 9176 
		set_state_controller = 9177 
		set_state_controller = 9178 
		set_state_controller = 9179 
		set_state_controller = 9180 
		set_state_controller = 9181 
		set_state_controller = 9182 
		set_state_controller = 9183
					}
					if = {
						limit = {
							554 = {
								owner = { original_tag = FRA }
								controller = { 
									original_tag = FRA
								}
							}
						}
						set_state_controller = 554 
		set_state_controller = 7326 
		set_state_controller = 7327 
		set_state_controller = 7328 
		set_state_controller = 7329 
					}

					if = {
						limit = {
							1 = {
								owner = { original_tag = FRA }
							}
						}
						set_state_controller = 1 
		set_state_controller = 797 
		set_state_controller = 798
					}
					if = {
						limit = {
							32 = {
								owner = { original_tag = FRA }
							}
						}
						set_state_controller = 32 
		set_state_controller = 3735 
		set_state_controller = 3736 
		set_state_controller = 3737 
		set_state_controller = 3738 
		set_state_controller = 3739
					}
					if = {
						limit = {
							735 = {
								owner = { original_tag = FRA }
							}
						}
						set_state_controller = 735 
		set_state_controller = 9498 
		set_state_controller = 9499 
		set_state_controller = 9500 
		set_state_controller = 9501 
		set_state_controller = 9502 
		set_state_controller = 9503 
		set_state_controller = 9504 
		set_state_controller = 9505 
		set_state_controller = 9506 
		set_state_controller = 9507 
		set_state_controller = 9508
					}
					if = {
						limit = {
							21 = {
								owner = { original_tag = FRA }
							}
						}
						set_state_controller = 21 
		set_state_controller = 2035 
		set_state_controller = 2036 
		set_state_controller = 2037 
		set_state_controller = 2038 
		set_state_controller = 2039 
		set_state_controller = 2040 
		set_state_controller = 2041
					}
					if = {
						limit = {
							31 = {
								owner = { original_tag = FRA }
							}
						}
						set_state_controller = 31 
		set_state_controller = 3689 
		set_state_controller = 3690 
		set_state_controller = 3691 
		set_state_controller = 3692 
		set_state_controller = 3693 
		set_state_controller = 3694 
		set_state_controller = 3695 
		set_state_controller = 3696 
		set_state_controller = 3697 
		set_state_controller = 3698 
		set_state_controller = 3699 
		set_state_controller = 3700 
		set_state_controller = 3701 
		set_state_controller = 3702 
		set_state_controller = 3703 
		set_state_controller = 3704 
		set_state_controller = 3705 
		set_state_controller = 3706
					}
			}
			start_civil_war = {
				ideology = neutrality
				size = 0.5
				capital = 26
				states = { 26 21 22 31 25 20 32 33 1 735 677 680 554 458 462 461 513 459 460 665 553 272 556 543 706 708 713 268 557 514 515  2988 2989 2990 2991 2992 2993 2994 2995 2996 2997 2035 2036 2037 2038 2039 2040 2041 2263 2264 2265 2266 2267 2268 2269 2270 2271 2272 3689 3690 3691 3692 3693 3694 3695 3696 3697 3698 3699 3700 3701 3702 3703 3704 3705 3706 2756 2757 2758 2759 2760 2761 2762 2763 2764 2765 2766 2767 1918 1919 1920 1921 1922 1923 1924 1925 1926 1927 1928 1929 3735 3736 3737 3738 3739 3825 3826 3827 3828 3829 3830 3831 3832 797 798 9498 9499 9500 9501 9502 9503 9504 9505 9506 9507 9508 9136 9137 9138 9139 9140 9141 9142 9172 9173 9174 9175 9176 9177 9178 9179 9180 9181 9182 9183 7326 7327 7328 7329 6036 6037 6038 6039 6040 6041 6042 6043 6044 6045 6046 6099 6100 6101 6102 6103 6104 6105 6106 6107 6108 6109 6110 6111 6083 6084 6085 6086 6087 6088 6089 6090 6091 6092 6093 6094 6095 6096 6097 6098 6691 6692 6693 6694 6695 6696 6697 6698 6699 6700 6701 6702 6703 6704 6705 6706 6707 6708 6709 6710 6711 6047 6048 6049 6050 6051 6052 6053 6054 6055 6073 6074 6075 6076 6077 6078 6079 6080 6081 6082 8808 8809 8810 8811 8812 8813 8814 8815 8816 8817 8818 7324 7325 3183 3184 3185 3186 3187 7332 7333 7334 7335 7336 7337 7338 7339 7340 7341 7342 7343 7344 7345 7187 7188 7189 7190 7191 7192 7193 7194 7195    3143 7346 7347 7348 7349 6712 6713 6714 6715 6716 6717 6718 6719 6720 6721 6722 6723 6724 6725 6726 6727 6728 6729 6730 6731 6732 6733 6734 6735}
				states_filter = {
					owner = { original_tag = FRA }
					OR = {		
						
						AND = {
							OR = {
								state = 554
								state = 680
								state = 677
								state = 458
							}
							controller = { 
								original_tag = FRA
							}
						}
						NOT = {
							OR = {
								state = 554
								state = 680
								state = 677
								state = 458
							}						
						}
					}					
				}
			}
		}
		random_other_country = {
			limit = { original_tag = FRA has_government = neutrality }
			ROOT = { puppet = PREV }
			set_capital = 26
			set_politics = {
				ruling_party = neutrality
				elections_allowed = no
			}
			set_popularities = {
				democratic = 22
				neutrality = 60
				fascism = 16
				communism = 2
			}
			
			if = {
				limit = { FRA = { has_country_flag = become_vichy } }
				change_tag_from = FRA
			}
			save_event_target_as = vichy_france
		}
		country_event = { hours = 6 id = news.34 }
		hidden_effect =  {
			FRA = { news_event = { id = france.20 days = 1 } }
		}
	}
	option = { 
		name = france.14.a
		ai_chance = { 
			factor = 50 
		}
		trigger = {
			has_government = fascism
			has_dlc = "La Resistance"
		}
		FRA = { 
			set_cosmetic_tag = FRA_FREE 
			add_ideas = FRA_defeatism
			load_focus_tree = free_french_focus
			if = {
				limit = {
					capital_scope = {
						NOT = {
							state = 16
							state = 635
						}
					}
					controls_state = 635
				}
				set_capital = 635
			}
			country_event = france.20
			every_owned_state = {
				limit = { 
					is_controlled_by = ITA 
					is_core_of = FRA
				}
				set_state_flag = vichy_italian_conquest
			}
		}
		custom_effect_tooltip = establishing_vichy_tt
		hidden_effect = {
			create_dynamic_country = {
				original_tag = FRA
				save_event_target_as = vichy_france
				every_state = { 
					limit = {
						is_controlled_by = FRA
						is_owned_by = FRA
						OR = {
							is_on_continent = africa
							is_core_of = VIN
							is_core_of = CAM
							is_core_of = LAO
							is_core_of = LEB
							is_core_of = SYR
						}
					}
					event_target:vichy_france = { transfer_state = PREV }
				}
				every_state = {
					limit = { 
						OR = {
							state = 735
							state = 21
							state = 32
							state = 20
							state = 26
							state = 22
							state = 31
							state = 25
							state = 33
							state = 1
						}
						CONTROLLER = { 
							OR = {
								original_tag = FRA
								has_war_with = FRA
							} 
						} 
					}
					add_core_of = PREV
					event_target:vichy_france = { transfer_state = PREV }
				}
				every_state = { 
					limit = {
						is_core_of = FRA
						NOT = {
							is_controlled_by = event_target:vichy_france
						}
					}
					add_core_of = PREV
				}
				if = { 
					limit = { ITA = { has_war_with = FRA } }
					every_owned_state = {
						limit = {
							OR = {
								state = 21
								state = 1
								state = 735
							}
							has_state_flag = vichy_italian_conquest
						}
						ITA = { transfer_state = PREV }
					}
					
					if = {
						limit = {
							21 = { is_controlled_by = ITA }
							735 = { is_controlled_by = ITA } 
						}
						ITA = { transfer_state = 32 
		transfer_state = 3735 
		transfer_state = 3736 
		transfer_state = 3737 
		transfer_state = 3738 
		transfer_state = 3739 }
					}
					
				}
				set_rule = { 
					can_join_factions = no 
					can_create_factions = no
					can_not_declare_war = yes
				}
				set_capital = 26
				set_politics = {
					ruling_party = fascism
					elections_allowed = no
				}
				set_popularities = {
					democratic = 22
					fascism = 46
					neutrality = 30
					communism = 2
				}
				set_cosmetic_tag = FRA_VICHY
				create_country_leader = {
					name = "Philippe Pétain"
					desc = "POLITICS_PHILIPPE_PÉTAIN_DESC"
					picture = "Portrait_France_Philippe_Petain.dds"
					expire = "1965.1.1"
					ideology = fascism_ideology
					traits = {
						
					}
				}
				add_ideas = FRA_occupation_costs_4
				load_focus_tree = vichy_french_focus
				FRA = {
					transfer_units_fraction = {
						target = event_target:vichy_france
						size = 0.9
						stockpile_ratio = 0.7
						army_ratio = 0.5
						navy_ratio = 0.85
						air_ratio = 1.0
					}
				}
				if = {
					limit = { FRA = { has_country_flag = become_vichy } }
					change_tag_from = FRA
				}
			}
		}
		random_country = {
			limit = {
				has_focus_tree = vichy_french_focus
			}
			GER = {
				give_guarantee = PREV
			}
			every_unit_leader = {
				limit = {
					has_id = 101 
				}
				set_nationality = FRA
			}
			every_army_leader = {
				limit = {
					NOT = { has_trait = old_guard }
				}
				set_nationality = FRA
			}
			FRA = {
				every_unit_leader = {
					limit = {
						OR = {
							has_trait = old_guard
							has_trait = old_guard_navy
						}
					}
					set_nationality = PREV.PREV
				}
				every_navy_leader = {
					limit = {
						has_id = 102 
					}
					set_nationality = PREV.PREV
				}
			}
		}
	}
	option = { 
		name = france.14.b
		ai_chance = { 
			factor = 50 
			modifier = {
				is_historical_focus_on = yes
				factor = 0
			}
		}
		FRA = {
			country_event = { hours = 6 id = france.15 }
		}
	}
}


country_event = {
	id = france.15
	title = france.15.t
	desc = france.15.d
	picture = GFX_report_event_french_resistance_01
	
	is_triggered_only = yes
	
	option = {
		name = france.15.a
	}
}


country_event = {
	id = france.16
	title = france.16.t
	desc = france.16.d
	picture = GFX_report_event_french_resistance_02

	fire_only_once = yes

	trigger = {
		original_tag = FRA
		16 = { controller = { NOT = { original_tag = FRA } } }
		has_capitulated = yes
		
	}
	
	mean_time_to_happen = {
		days = 4
	}

	option = {
		name = france.16.a
		remove_ideas = FRA_victors_of_wwi
		remove_ideas = FRA_disjointed_government
		remove_ideas = FRA_protected_by_the_maginot_line
	}
}


country_event = {
	id = france.17
	title = france.17.t
	desc = france.17.d
	picture = GFX_report_event_worried_french
	
	is_triggered_only = yes
	
	option = {
		name = france.17.a
		ai_chance = { factor = 90 }
		FRA = {
			country_event = france.18
			add_to_faction = ROOT
		}
		add_ai_strategy = {
			type = alliance
			id = "FRA"
			value = 200
		}
	}

	option = {
		name = france.17.b
		ai_chance = { factor = 10 }
		FRA = { country_event = france.19 }
	}
}


country_event = {
	id = france.18
	title = france.18.t
	desc = france.18.d
	picture = GFX_report_event_soldiers_in_france
	
	is_triggered_only = yes
	
	option = {
		name = france.18.a
		effect_tooltip = {
			add_to_faction = FROM
		}
	}
}


country_event = {
	id = france.19
	title = france.19.t
	desc = france.19.d
	picture = GFX_report_event_finnish_letter
	
	is_triggered_only = yes
	
	option = {
		name = france.19.a
	}
}


country_event = {
	id = france.20
	title = france.20.t
	desc = france.20.d
	picture = GFX_report_event_degaulle_churchill
	
	is_triggered_only = yes
	
	option = {
		custom_effect_tooltip = france.20.a_tt
		set_country_flag = france_de_gaulle
		hidden_effect =  {
			create_country_leader = {
				name = "Charles de Gaulle"
				desc = "POLITICS_CHARLES_DE_GAULLE_DESC"
				picture = "Portrait_France_Charles_De_Gaulle.dds"
				expire = "1965.1.1"
				ideology = conservatism
				traits = {
					
				}
			}
		}
		
		name = france.20.a
	}
}


country_event = {
	id = france.21
	title = france.21.t
	desc = france.21.d
	picture = GFX_report_event_worker_protests
	
	trigger = {
		NOT = { has_government = communism }
		NOT = { has_idea = FRA_matignon_agreements }
		has_completed_focus = FRA_form_the_popular_front
		NOT = { has_country_flag = FRA_popular_front_cooldown }
		tag = FRA
		date > 1936.4.1
		date < 1938.1.1
	}

	fire_only_once = yes
	
	mean_time_to_happen = {	days = 60 }

	option = {
		ai_chance = {
			base = 15
		}
		name = france.21.a
		add_timed_idea = {
			idea = FRA_factory_strikes
			days = 360
		}
	}
}


country_event = {
	id = france.22
	title = france.21.t
	desc = france.21.d
	picture = GFX_report_event_worker_protests
	
	is_triggered_only = yes

	option = {
		ai_chance = {
			base = 15
		}
		name = france.21.a
		add_timed_idea = {
			idea = FRA_factory_strikes
			days = 60
		}
		hidden_effect = {
			country_event = { id = france.23 days = 60 }
		}
	}

	option = {
		ai_chance = {
			base = 85
		}
		name = france.21.b
		add_political_power = -50
	}
}


country_event = {
	id = france.23
	title = france.23.t
	desc = france.23.d
	picture = GFX_report_event_airplane_factory

	is_triggered_only = yes

	fire_only_once = yes

	option = {
		name = france.23.a
	}
}

























































country_event = {
	id = france.25
	title = france.25.t
	desc = france.25.d
	picture = GFX_report_event_hitler_croatia_handshake

	is_triggered_only	= yes	
	option = { 
		name = france.25.a
		ai_chance = {
			factor = 90
			modifier = {
				factor = 0
				is_in_faction_with = YUG
			}
		}
		if = {
			limit = {
				has_guaranteed = YUG
			}
			diplomatic_relation = {
   				country = YUG
   				relation = guarantee
   				active = no
  			}
		}
		if = {
			limit = {
				ITA = {
					OR = {
						NOT = { has_completed_focus = ITA_yugoslavia_friend }						
						is_in_faction_with = GER
						exists = no
					}
				}
			}
			YUG = {
				add_opinion_modifier = { target = FRA modifier = western_betrayal }
				country_event = { id = yugoslavia.5 hours = 6 }
			}			
		}
		if = {
			limit = { 
				ITA = {
					has_completed_focus = ITA_yugoslavia_friend
					NOT = { is_in_faction_with = GER }
					NOT = { has_war_with = YUG }
				}
			}
			ITA = { country_event = { id = italy.12 } }
		}
	}
	option = { 
		name = france.25.b
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				is_in_faction_with = GER
			}
		}
		add_political_power = -200
		add_opinion_modifier = { target = GER modifier = condemn_aggression }
		YUG = { 
			country_event = { id = yugoslavia.4 days = 1 }
			add_opinion_modifier = { target = FRA modifier = offered_support }
		}
		GER = {
			country_event = { id = germany.97 hours = 6 } 
			effect_tooltip = {
				create_wargoal = {
					type = take_state_focus
					target = YUG
					generator = { 102 }
				}
			}
		}
		if = {
			limit = { 
				is_in_faction_with = ENG 
			}
			if = {
				limit = { ENG = { is_faction_leader = yes } }
				ENG = { 
					country_event = { id = britain.15 hours = 6 }
					remove_from_faction = FRA
				}
				else_if = {
					limit = {
						is_faction_leader = yes
					}
					remove_from_faction = ENG
				}
			}
		}
		if = {
			limit = { is_in_faction_with = GER }
			GER = { 
				remove_from_faction = FRA
			}
		}
		if = {
			limit = {
				is_in_faction = yes
				is_faction_leader = yes
				NOT = { is_in_faction_with = ENG }
				NOT = { is_in_faction_with = GER }
			}
			add_to_faction = YUG
			YUG = {
				add_ai_strategy = {
					type = alliance
					id = "FRA"
					value = 200
				}
			}
		}
		if = {
			limit = {
				OR = {
					is_in_faction = no
					is_faction_leader = no
					is_in_faction_with = ENG
					is_in_faction_with = GER
				}
			}
			create_faction = "french_alliance"
			add_to_faction = YUG
			YUG = {
				add_ai_strategy = {
					type = alliance
					id = "FRA"
					value = 200
				}
			}
		}
		if = {
			limit = { NOT = { has_completed_focus = FRA_strengthen_the_little_entente } }
			add_stability = 0.05
		}
	}
}


country_event = {
	id = france.26
	title = france.26.t
	desc = france.26.d
	picture = GFX_report_event_hitler_croatia_handshake

	is_triggered_only	= yes

	option = {
		name = france.26.a
		ai_chance = {
			factor = 90
			modifier = {
				factor = 0
				is_in_faction_with = GER
			}
		}
		if = {
			limit = {
				NOT = {
					has_guaranteed = YUG
				}
			}
			give_guarantee = YUG
		}
		if = {
			limit = { is_in_faction = no }
			ENG = { add_to_faction = FRA }
			FRA = {
				add_ai_strategy = {
					type = alliance
					id = "ENG"
					value = 200
				}
			}
		}
		add_opinion_modifier = { target = GER modifier = condemn_aggression }
		YUG = { 
			country_event = { id = yugoslavia.3 days = 1 }
			add_opinion_modifier = { target = FRA modifier = offered_support }
		}
		GER = {
			country_event = { id = germany.93 hours = 6 } 
			effect_tooltip = {
				create_wargoal = {
					type = take_state_focus
					target = YUG
					generator = { 102 }
				}
			}
		}		
	}

	
	option = {
		name = france.26.b
		trigger = { NOT = { is_in_faction_with = ENG } }
		ai_chance = { factor = 10 }
		set_global_flag = FRA_abandoned_yugoslavia
		if = {
			limit = {
				has_guaranteed = YUG
			}
			diplomatic_relation = {
   				country = YUG
   				relation = guarantee
   				active = no
  			}
		}
		YUG = {
			country_event = { id = yugoslavia.3 hours = 6 }
			add_opinion_modifier = { target = FRA modifier = western_betrayal }
		}
	}	
}


country_event = {
	id = france.27
	title = france.27.t
	desc = { 
		text = france.27.d_1_state 
		trigger = {
			OR = {
				NOT = { has_global_flag = ITA_claims_on_france_735 }
				has_global_flag = ITA_claims_on_france_1
			}
			OR = {
				has_global_flag = ITA_claims_on_france_735
				NOT = { has_global_flag = ITA_claims_on_france_1 }
			}
		} 
	}
	desc = { 
		text = france.27.d_both
		trigger = { 
			has_global_flag = ITA_claims_on_france_735 
			has_global_flag = ITA_claims_on_france_1
		} 
	}
	picture = GFX_report_event_worried_french

	is_triggered_only	= yes

	option = {
		name = france.27.a
		
		effect_tooltip = {
			if = {
				limit = { has_global_flag = ITA_claims_on_france_735 }
				ITA = { transfer_state = 735 
		transfer_state = 9498 
		transfer_state = 9499 
		transfer_state = 9500 
		transfer_state = 9501 
		transfer_state = 9502 
		transfer_state = 9503 
		transfer_state = 9504 
		transfer_state = 9505 
		transfer_state = 9506 
		transfer_state = 9507 
		transfer_state = 9508 }
			}
			if = {
				limit = { has_global_flag = ITA_claims_on_france_1 }
				ITA = { transfer_state = 1 
		transfer_state = 797 
		transfer_state = 798 }
			}
		}

		if = {
			limit = {
				has_global_flag = ITA_claims_on_france_735
				has_global_flag = ITA_claims_on_france_1
				OR = {
					owns_state = 554
					owns_state = 677
					owns_state = 680
				}

			}
			random_other_country = {
				limit = {
					original_tag = FRA
					has_government = democratic
				}
				if = {
					limit = { ROOT = { owns_state = 554 } }
					transfer_state = 554 
		transfer_state = 7326 
		transfer_state = 7327 
		transfer_state = 7328 
		transfer_state = 7329
				}
				if = {
					limit = { ROOT = { owns_state = 677 } }
					transfer_state = 677 
		transfer_state = 9136 
		transfer_state = 9137 
		transfer_state = 9138 
		transfer_state = 9139 
		transfer_state = 9140 
		transfer_state = 9141 
		transfer_state = 9142
				}
				if = {
					limit = { ROOT = { owns_state = 680 } }
					transfer_state = 680 
		transfer_state = 9172 
		transfer_state = 9173 
		transfer_state = 9174 
		transfer_state = 9175 
		transfer_state = 9176 
		transfer_state = 9177 
		transfer_state = 9178 
		transfer_state = 9179 
		transfer_state = 9180 
		transfer_state = 9181 
		transfer_state = 9182 
		transfer_state = 9183
				}
				country_event = france.28
			}
		}
	}

}


country_event = {
	id = france.28
	title = france.28.t
	desc = france.28.d
	picture = GFX_report_event_worried_french

	is_triggered_only	= yes

	option = {
		name = france.28.a
	}

}


country_event = {
	id = france.29
	title = france.29.t
	desc = france.29.d
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes

	option = {
		name = france.29.a
	}
}


country_event = {
	id = france.30
	title = france.30.t
	desc = france.30.d
	picture = GFX_report_event_chamberlain

	is_triggered_only	= yes

	option = {
		name = france.30.a
	}
}


country_event = {
    id = france.31
    title = france.31.t
    desc = france.31.d
    picture = GFX_report_event_german_parade_paris
 
    fire_only_once = yes
 
    trigger = {
        original_tag = FRA
        has_government = democratic
        has_global_flag = fall_of_france
        NOT = { has_country_flag = france_de_gaulle }
    } 

    mean_time_to_happen = {
        days = 7
    }

    option = {
        name = france.31.a
        retire_country_leader = yes
        create_country_leader = {
        	name = "Paul Reynaud"
        	desc = "POLITICS_PAUL_REYNAUD_DESC"
        	picture = "Portrait_France_Paul_Reynaud.dds"
        	expire = "1965.1.1"
        	ideology = liberalism
        	traits = {
            }
        }
        set_country_flag = daladier_resigned
      }
}


country_event = {
    id = france.32
    hidden = yes
 
    fire_only_once = yes

    is_triggered_only = yes

    immediate = {
    	if = {
    		limit = {
    			NOT = { has_dlc = "La Resistance" }
    		}
    		random_other_country = {
				limit = {
					original_tag = SPR
					has_government = fascism
				}
				FRA = {
					add_ai_strategy = {
						type = befriend
						id = PREV
						value = 200
					}
				}
			}
    	}
    	if = {
    		limit = {
    			has_dlc = "La Resistance"
    		}
			FRA = {
					add_ai_strategy = {
						type = befriend
					id = "SPA"
						value = 200
					}
			}
    	}
    }

    option = {
        name = france.32.a
     }
}




country_event = {
	id = france.33
	title = france.33.title
	desc = france.33.desc
	
	picture = GFX_report_event_generic_peaceful_annexation
	
	fire_only_once = yes
	
	trigger = {
		tag = ENG
		has_war = no
		is_subject = no
		has_global_flag = flag_franco_british_union
		any_owned_state = {
			is_core_of = FRA
		}
	}
	
	mean_time_to_happen = {
		months = 1
	}

	option = { 
		name = france.33.a
		
		if = {
			limit = {
				has_cosmetic_tag = FRA_UK
			}
			drop_cosmetic_tag = yes
		}
		
		if = {
			limit = {
				NOT = { country_exists = FRA }
			}
			if = {
				limit = {
					has_government = democratic
				}
				FRA = {
					set_politics = {
						ruling_party = democratic
						elections_allowed = yes
					}
					set_popularities = {
						democratic = 60
						fascism = 20
						communism = 20
					}
				}
			}
			if = {
				limit = {
					has_government = fascism
				}
				FRA = {
					set_politics = {
						ruling_party = fascism
						elections_allowed = no
					}
					set_popularities = {
						democratic = 20
						fascism = 60
						communism = 20
					}
				}
			}
			if = {
				limit = {
					has_government = communism
				}
				FRA = {
					set_politics = {
						ruling_party = communism
						elections_allowed = no
					}
					set_popularities = {
						democratic = 20
						fascism = 20
						communism = 60
					}
				}
			}
			if = {
				limit = {
					has_government = neutrality
				}
				FRA = {
					set_politics = {
						ruling_party = neutrality
						elections_allowed = no
					}
					set_popularities = {
						democratic = 15
						neutrality = 55
						fascism = 15
						communism = 15
					}
				}
			}
			release = FRA
			
			set_autonomy = { target = FRA autonomy_state = autonomy_free }
		}
		
		every_state = {
			limit = {
				is_core_of = ENG
				is_core_of = FRA
			}
			remove_core_of = ENG
		}
		
		hidden_effect = { 
			every_other_country = {
				limit = {
					is_subject_of = ENG
				}
				every_owned_state = {
					limit = {
						is_core_of = FRA
					}
					FRA = {
						transfer_state = PREV
					}
				}
			}
		}
		
		if = {
			limit = {
				is_faction_leader = yes
				FRA = {
					is_subject = no
					is_in_faction = no
				}
			}
			add_to_faction = FRA
		}
		
		every_unit_leader = {
			limit = {
				has_unit_leader_flag = {
					flag = flag_former_french_general
				}
			}
			set_nationality = FRA
		}
		
		hidden_effect =  {
			news_event = { id = france.34 days = 1 }
		}
		
		ai_chance = {
			factor = 60
			
			modifier = {
				factor = 2
				has_government = democratic
			}
		}
	}
	
	option = { 
		name = france.33.b
		
		add_war_support = -0.1
		add_stability = -0.2
		
		every_state = {
			limit = {
				is_core_of = ENG
				is_core_of = FRA
			}
			remove_core_of = ENG
		}
		
		every_unit_leader = {
			limit = {
				has_unit_leader_flag = {
					flag = flag_former_french_general
				}
			}
			set_nationality = FRA
		}
		
		ai_chance = {
			factor = 40
			
			modifier = {
				factor = 0.5
				has_stability < 0.5
			}
			modifier = {
				factor = 0.5
				has_war_support < 0.5
			}
			modifier = {
				factor = 2
				has_government = fascism
			}
			modifier = {
				factor = 0.5
				is_historical_focus_on = yes
			}
		}
	}
}



news_event = {
	id = france.34
	title = france.34.title
	desc = france.34.desc
	
	picture = GFX_news_event_degaulle_churchill
	
	is_triggered_only = yes
	
	option = {
		name = france.34.a
		trigger = {
			OR = {
				tag = ENG
				tag = FRA
				is_in_faction_with = ENG
				is_subject_of = ENG
			}
		}
	}
	
	option = {
		name = france.34.b
		trigger = {
			NOT = {
				OR = {
					tag = ENG
					tag = FRA
					is_in_faction_with = ENG
					is_subject_of = ENG
				}
			}
		}
	}
}
